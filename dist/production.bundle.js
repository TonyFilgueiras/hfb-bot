(()=>{"use strict";var e={905:(e,t,a)=>{a.r(t),a.d(t,{decorate:()=>o,metadata:()=>d,getMetadata:()=>c,getOwnMetadata:()=>m,hasOwnMetadata:()=>u,hasMetadata:()=>h,defineMetadata:()=>g,Reflection:()=>f});const s=new WeakMap;function o(e,t,a,s){if(!Array.isArray(e)||0===e.length)throw new TypeError;return void 0!==a?function(e,t,a,s){return e.reverse().forEach((e=>{s=e(t,a,s)||s})),s}(e,t,a,s):"function"==typeof t?function(e,t){return e.reverse().forEach((e=>{const a=e(t);a&&(t=a)})),t}(e,t):void 0}function i(e,t){return s.get(e)&&s.get(e).get(t)}function r(e,t,a){if(void 0===t)throw new TypeError;const s=i(t,a);return s&&s.get(e)}function l(e,t,a,o){if(o&&!["string","symbol"].includes(typeof o))throw new TypeError;(i(a,o)||function(e,t){const a=s.get(e)||new Map;s.set(e,a);const o=a.get(t)||new Map;return a.set(t,o),o}(a,o)).set(e,t)}function n(e,t,a){return r(e,t,a)?r(e,t,a):Object.getPrototypeOf(t)?n(e,Object.getPrototypeOf(t),a):void 0}function d(e,t){return function(a,s){l(e,t,a,s)}}function c(e,t,a){return n(e,t,a)}function m(e,t,a){return r(e,t,a)}function u(e,t,a){return!!r(e,t,a)}function h(e,t,a){return!!n(e,t,a)}function g(e,t,a,s){l(e,t,a,s)}const f={decorate:o,defineMetadata:g,getMetadata:c,getOwnMetadata:m,hasMetadata:h,hasOwnMetadata:u,metadata:d};Object.assign(Reflect,f)},187:e=>{var t,a="object"==typeof Reflect?Reflect:null,s=a&&"function"==typeof a.apply?a.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)};t=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(a,s){function o(a){e.removeListener(t,i),s(a)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),a([].slice.call(arguments))}f(e,t,i,{once:!0}),"error"!==t&&function(e,t,a){"function"==typeof e.on&&f(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var r=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function n(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function d(e,t,a,s){var o,i,r,d;if(l(a),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,a.listener?a.listener:a),i=e._events),r=i[t]),void 0===r)r=i[t]=a,++e._eventsCount;else if("function"==typeof r?r=i[t]=s?[a,r]:[r,a]:s?r.unshift(a):r.push(a),(o=n(e))>0&&r.length>o&&!r.warned){r.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=r.length,d=c,console&&console.warn&&console.warn(d)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,a){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:a},o=c.bind(s);return o.listener=a,s.wrapFn=o,o}function u(e,t,a){var s=e._events;if(void 0===s)return[];var o=s[t];return void 0===o?[]:"function"==typeof o?a?[o.listener||o]:[o]:a?function(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}(o):g(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var a=t[e];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function g(e,t){for(var a=new Array(t),s=0;s<t;++s)a[s]=e[s];return a}function f(e,t,a,s){if("function"==typeof e.on)s.once?e.once(t,a):e.on(t,a);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){s.once&&e.removeEventListener(t,o),a(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");r=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return n(this)},i.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var l=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw l.context=r,l}var n=i[e];if(void 0===n)return!1;if("function"==typeof n)s(n,this,t);else{var d=n.length,c=g(n,d);for(a=0;a<d;++a)s(c[a],this,t)}return!0},i.prototype.addListener=function(e,t){return d(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return d(this,e,t,!0)},i.prototype.once=function(e,t){return l(t),this.on(e,m(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,m(this,e,t)),this},i.prototype.removeListener=function(e,t){var a,s,o,i,r;if(l(t),void 0===(s=this._events))return this;if(void 0===(a=s[e]))return this;if(a===t||a.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!=typeof a){for(o=-1,i=a.length-1;i>=0;i--)if(a[i]===t||a[i].listener===t){r=a[i].listener,o=i;break}if(o<0)return this;0===o?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,o),1===a.length&&(s[e]=a[0]),void 0!==s.removeListener&&this.emit("removeListener",e,r||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,a,s;if(void 0===(a=this._events))return this;if(void 0===a.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==a[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete a[e]),this;if(0===arguments.length){var o,i=Object.keys(a);for(s=0;s<i.length;++s)"removeListener"!==(o=i[s])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=a[e]))this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},i.prototype.listeners=function(e){return u(this,e,!0)},i.prototype.rawListeners=function(e){return u(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},142:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(a(894)),i=a(755),r=s(a(602)),l=s(a(867)),n=s(a(78)),d=a(114),c=a(963),m=s(a(344)),u=s(a(879)),h=s(a(100)),g=(s(a(840)),s(a(233))),f=!!window.CustomSettings?.nivel,p="production"==={RECS_PORT:"4000",DATABASE_PORT:"3000",ENABLE_LOG:"false",mode:"production"}.MODE,y=new o.default({public:p,noPlayer:!0,maxPlayers:25,roomName:`🏈 𝗕𝗙𝗟 • Futebol Americano ${f?"ᴺᴵⱽᴱᴸ":" "}🏈`});y.setPlayerChat(!1),p&&y.module(h.default),y.module(l.default),y.module(r.default),y.module(i.AFK),y.module(n.default),y.module(d.BetterChat),y.module(c.Admin),y.module(m.default),y.module(u.default),y.module(g.default),console.log("%chttps://github.com/bfleague/bfl-bot","font-size: 16px;"),window.room=y},704:function(e,t,a){var s,o=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&o(t,e,a);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseType=void 0,r(a(641)),function(e){e.Success="success",e.Error="error",e.InternalError="internal_error"}(s=t.ResponseType||(t.ResponseType={})),t.default=class{url="http://localhost:3000/db";static ResponseType={Success:"success",Error:"error",InternalError:"internal_error"};send(e,t){return new Promise(((a,o)=>{fetch(this.url,{method:"POST",headers:{Accept:"*/*",Origin:"http://www.haxball.com",Host:this.url,"Content-Type":"application/json"},body:JSON.stringify({method:e,params:t})}).then((function(e){return e.json()})).then((function(e){e&&a(e),a({type:s.InternalError})})).catch((e=>{console.error(e),a({type:s.InternalError})}))}))}async registerPlayer(e,t,a){return await this.send("registerPlayer",[e,t,a])}async getPlayer(e){return await this.send("getPlayer",[e])}async updateAuth(e,t){return await this.send("updatePlayerAuth",[e,t])}async ping(){return await this.send("ping",[])}}},641:(e,t)=>{var a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Color=t.statsVersion=t.adminAccountRole=t.bypassRegisterRole=t.notRegistered=t.loggedRole=t.discord=t.version=t.DEFAULT_PORTS=void 0,(s=t.DEFAULT_PORTS||(t.DEFAULT_PORTS={}))[s.RECS=4e3]="RECS",s[s.DATABASE=3e3]="DATABASE",t.version="1.1",t.discord="discord.gg/6E6bZymqTt",t.loggedRole="loggedIn",t.notRegistered="notRegistered",t.bypassRegisterRole="bypassRegisterRole",t.adminAccountRole="adminAccount",t.statsVersion="1",(a=t.Color||(t.Color={}))[a.AliceBlue=15792383]="AliceBlue",a[a.AntiqueWhite=16444375]="AntiqueWhite",a[a.Aqua=65535]="Aqua",a[a.AquaMarine=8388564]="AquaMarine",a[a.Azure=15794175]="Azure",a[a.Beige=16119260]="Beige",a[a.Bisque=16770244]="Bisque",a[a.Black=0]="Black",a[a.BlancheDalmond=16772045]="BlancheDalmond",a[a.Blue=255]="Blue",a[a.BlueViolet=9055202]="BlueViolet",a[a.Brown=10824234]="Brown",a[a.Burlywood=14596231]="Burlywood",a[a.CadetBlue=6266528]="CadetBlue",a[a.Chartreuse=8388352]="Chartreuse",a[a.Chocolate=13789470]="Chocolate",a[a.Coral=16744272]="Coral",a[a.CornflowerBlue=6591981]="CornflowerBlue",a[a.Cornsilk=16775388]="Cornsilk",a[a.Crimson=14423100]="Crimson",a[a.Cyan=65535]="Cyan",a[a.DarkBlue=139]="DarkBlue",a[a.DarkCyan=35723]="DarkCyan",a[a.DarkGoldenRod=12092939]="DarkGoldenRod",a[a.DarkGray=11119017]="DarkGray",a[a.DarkGreen=25600]="DarkGreen",a[a.DarkKhaki=12433259]="DarkKhaki",a[a.DarkMagenta=9109643]="DarkMagenta",a[a.DarkOliveGreen=5597999]="DarkOliveGreen",a[a.DarkOrange=16747520]="DarkOrange",a[a.DarkOrchid=10040012]="DarkOrchid",a[a.DarkRed=9109504]="DarkRed",a[a.DarkSalmon=15308410]="DarkSalmon",a[a.DarkseaGreen=9419919]="DarkseaGreen",a[a.DarkSlateBlue=4734347]="DarkSlateBlue",a[a.DarkSlateGray=3100495]="DarkSlateGray",a[a.DarkTurquoise=52945]="DarkTurquoise",a[a.DarkViolet=9699539]="DarkViolet",a[a.DeepPink=16716947]="DeepPink",a[a.DeepSkyBlue=49151]="DeepSkyBlue",a[a.DimGray=6908265]="DimGray",a[a.DodgerBlue=2003199]="DodgerBlue",a[a.Firebrick=11674146]="Firebrick",a[a.FloralWhite=16775920]="FloralWhite",a[a.ForestGreen=2263842]="ForestGreen",a[a.Fuchsia=16711935]="Fuchsia",a[a.Gainsboro=14474460]="Gainsboro",a[a.GhostWhite=16316671]="GhostWhite",a[a.Gold=16766720]="Gold",a[a.GoldenRod=14329120]="GoldenRod",a[a.Gray=8421504]="Gray",a[a.Green=32768]="Green",a[a.GreenYellow=11403055]="GreenYellow",a[a.Honeydew=15794160]="Honeydew",a[a.HotPink=16738740]="HotPink",a[a.IndianRed=13458524]="IndianRed",a[a.Indigo=4915330]="Indigo",a[a.Ivory=16777200]="Ivory",a[a.Khaki=15787660]="Khaki",a[a.Lavender=15132410]="Lavender",a[a.Lavenderblush=16773365]="Lavenderblush",a[a.LawnGreen=8190976]="LawnGreen",a[a.LemonChiffon=16775885]="LemonChiffon",a[a.LightBlue=11393254]="LightBlue",a[a.Lightcoral=15761536]="Lightcoral",a[a.LightCyan=14745599]="LightCyan",a[a.LightGoldenRodYellow=16448210]="LightGoldenRodYellow",a[a.LightGrey=13882323]="LightGrey",a[a.LightGreen=9498256]="LightGreen",a[a.LightPink=16758465]="LightPink",a[a.LightSalmon=16752762]="LightSalmon",a[a.LightSeaGreen=2142890]="LightSeaGreen",a[a.LightSkyBlue=8900346]="LightSkyBlue",a[a.LightSlateGray=7833753]="LightSlateGray",a[a.LightSteelBlue=11584734]="LightSteelBlue",a[a.LightYellow=16777184]="LightYellow",a[a.Lime=65280]="Lime",a[a.LimeGreen=3329330]="LimeGreen",a[a.Linen=16445670]="Linen",a[a.Magenta=16711935]="Magenta",a[a.Maroon=8388608]="Maroon",a[a.MediumAquamarine=6737322]="MediumAquamarine",a[a.MediumBlue=205]="MediumBlue",a[a.Mediumorchid=12211667]="Mediumorchid",a[a.MediumPurple=9662680]="MediumPurple",a[a.MediumSeaGreen=3978097]="MediumSeaGreen",a[a.MediumSlateBlue=8087790]="MediumSlateBlue",a[a.MediumspringGreen=64154]="MediumspringGreen",a[a.MediumTurquoise=4772300]="MediumTurquoise",a[a.MediumVioletRed=13047173]="MediumVioletRed",a[a.MidnightBlue=1644912]="MidnightBlue",a[a.MintCream=16121850]="MintCream",a[a.MistyRose=16770273]="MistyRose",a[a.Moccasin=16770229]="Moccasin",a[a.NavajoWhite=16768685]="NavajoWhite",a[a.Navy=128]="Navy",a[a.OldLace=16643558]="OldLace",a[a.Olive=8421376]="Olive",a[a.OliveDrab=7048739]="OliveDrab",a[a.Orange=16753920]="Orange",a[a.OrangeRed=16729344]="OrangeRed",a[a.Orchid=14315734]="Orchid",a[a.PaleGoldenRod=15657130]="PaleGoldenRod",a[a.PaleGreen=10025880]="PaleGreen",a[a.PaleTurquoise=11529966]="PaleTurquoise",a[a.PaleVioletRed=14184595]="PaleVioletRed",a[a.PapayaWhip=16773077]="PapayaWhip",a[a.Peachpuff=16767673]="Peachpuff",a[a.Peru=13468991]="Peru",a[a.Pink=16761035]="Pink",a[a.Plum=14524637]="Plum",a[a.PowderBlue=11591910]="PowderBlue",a[a.Purple=8388736]="Purple",a[a.RebeccaPurple=6697881]="RebeccaPurple",a[a.Red=16711680]="Red",a[a.RosyBrown=12357519]="RosyBrown",a[a.RoyalBlue=4286945]="RoyalBlue",a[a.SaddleBrown=9127187]="SaddleBrown",a[a.Salmon=16416882]="Salmon",a[a.SandyBrown=16032864]="SandyBrown",a[a.SeaGreen=3050327]="SeaGreen",a[a.Seashell=16774638]="Seashell",a[a.Sienna=10506797]="Sienna",a[a.Silver=12632256]="Silver",a[a.SkyBlue=8900331]="SkyBlue",a[a.SlateBlue=6970061]="SlateBlue",a[a.SlateGray=7372944]="SlateGray",a[a.Snow=16775930]="Snow",a[a.SpringGreen=65407]="SpringGreen",a[a.SteelBlue=4620980]="SteelBlue",a[a.Tan=13808780]="Tan",a[a.Teal=32896]="Teal",a[a.Thistle=14204888]="Thistle",a[a.Tomato=16737095]="Tomato",a[a.Turquoise=4251856]="Turquoise",a[a.Violet=15631086]="Violet",a[a.Wheat=16113331]="Wheat",a[a.White=16777215]="White",a[a.WhiteSmoke=16119285]="WhiteSmoke",a[a.Yellow=16776960]="Yellow",a[a.YellowGreen=10145074]="YellowGreen",a[a.Haxball=9360043]="Haxball"},999:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class a{_room;constructor(e){this._room=e}distanceTo(e){if(!e)return null;let t,s,o;if(e instanceof a?(t=e.getX(),s=e.getY(),o=e.getRadius()):(t=e.x,s=e.y,o=e.radius),isNaN(parseInt(this.getX()+""))||isNaN(parseInt(this.getY()+"")))return null;if(isNaN(parseInt(t+""))||isNaN(parseInt(s+"")))return null;if(isNaN(parseInt(this.getRadius()+""))||isNaN(parseInt(t+"")))return null;const i=this.getX(),r=this.getY(),l=this.getRadius(),n=o,d=i-t,c=r-s,m=Math.sqrt(d*d+c*c);return Math.max(0,m-l-n)}isCollidingWith(e){const t=this.distanceTo(e);return!!t&&t<=0}getPosition(){return{x:this.getDiscObject()?.x,y:this.getDiscObject()?.y}}setPosition(e){this.setDiscObject(e)}getX(){return this.getDiscObject()?.x}setX(e){this.setDiscObject({x:e})}getY(){return this.getDiscObject()?.y}setY(e){this.setDiscObject({y:e})}getVelocity(){return Math.sqrt(this.getVelocityX()*this.getVelocityX()+this.getVelocityY()*this.getVelocityY())}getVelocityX(){return this.getDiscObject()?.xspeed}setVelocityX(e){this.setDiscObject({xspeed:e})}getVelocityY(){return this.getDiscObject()?.yspeed}setVelocityY(e){this.setDiscObject({yspeed:e})}getGravityX(){return this.getDiscObject()?.xgravity}setGravityX(e){this.setDiscObject({xgravity:e})}getGravityY(){return this.getDiscObject()?.ygravity}setGravityY(e){this.setDiscObject({ygravity:e})}getRadius(){return this.getDiscObject()?.radius}setRadius(e){this.setDiscObject({radius:e})}getbCoeff(){return this.getDiscObject()?.bCoeff}setbCoeff(e){this.setDiscObject({bCoeff:e})}getInvMass(){return this.getDiscObject()?.invMass}setInvMass(e){this.setDiscObject({invMass:e})}getDamping(){return this.getDiscObject()?.damping}setDamping(e){this.setDiscObject({damping:e})}getcMask(){return this.getDiscObject()?.cMask}setcMask(e){this.setDiscObject({cMask:e})}getcGroup(){return this.getDiscObject()?.cGroup}setcGroup(e){this.setDiscObject({cGroup:e})}}t.default=a},985:(e,t,a)=>{function s(e,t){return e.slice(t.length).trim().split(/ +/)}Object.defineProperty(t,"__esModule",{value:!0}),t.getCommandArgumentsFromString=t.getCommandNameFromString=void 0,a(905),t.getCommandNameFromString=function(e,t){return s(e,t)[0].toLowerCase()},t.getCommandArgumentsFromString=function(e,t){return s(e,t).slice(1)},t.default=function(e){return(t,a,s)=>{const o=Reflect.getMetadata("module:commands",t),i=e;i.func=s.value,o?o.push(i):Reflect.defineMetadata("module:commands",[i],t)}}},490:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(a(999)),i=s(a(408));class r extends o.default{index;settings=new i.default;constructor(e,t){super(e),this.index=t}getDiscObject(){return this._room.getNative().getDiscProperties(this.index)}setDiscObject(e){this._room.getNative().setDiscProperties(this.index,e)}getColor(){return this.getDiscObject().color}setColor(e){this.setDiscObject({color:e})}}t.default=r},374:(e,t)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.Team=void 0,(a=t.Team||(t.Team={}))[a.Spectators=0]="Spectators",a[a.Red=1]="Red",a[a.Blue=2]="Blue"},66:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class a{list=[];[Symbol.iterator](){let e=0;const t=this.getList();return{next:()=>({value:t[e++],done:e>t.length})}}get size(){return this.getList().length}getList(){return this.list}find(e){for(const t of this)if(e(t))return t}forEach(e){for(const t of this)e(t)}filter(e){const t=[];for(const a of this)e(a)&&t.push(a);return t}getValues(){return this.getList()}}t.default=a},593:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Module=void 0,a(905);class s{constructor(){Reflect.defineMetadata("module:isModule",!0,this)}}t.Module=s,t.default=s},286:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(a(999)),i=a(374),r=a(894),l=s(a(408));class n extends o.default{_isConfirmed;_kickLimitDistance=4;positionInList=[-1,-1];playerLeaveObj=null;lastPos={x:null,y:null};confirmLevels=[];name;id;auth;conn;ip;settings=new l.default;canReadChat=!0;canUseCommands=!0;roles=[];constructor(e,t,a=!0){super(e),this._isConfirmed=a,this.name=t.name,this.id=t.id,this.auth=t.auth,this.conn=t.conn,this.ip=this._decodeConn(this.conn)}getDiscObject(){return this._room.getNative().getPlayerDiscProperties(this.id)}setDiscObject(e){this._room.getNative().setPlayerDiscProperties(this.id,e)}_decodeConn(e){return decodeURIComponent(e.replace(/(..)/g,"%$1"))}updatePlayerPositionInList(){const e=this._room.getPlayers().filter((e=>e.getTeam()===i.Team.Spectators));this.positionInList[1]=this.positionInList[0],this.positionInList[0]=e.findIndex((e=>e.id===this.id))}getPositionInList(){return{now:this.positionInList[0],before:this.positionInList[1]}}setAvatar(e){this._room.setAvatar(this.id,e)}clearAvatar(){this._room.setAvatar(this.id,null)}kick(e){this._room.kick(this.id,e)}ban(e){this._room.ban(this.id,e)}canKick(e){const t=e.distanceTo(this);return!!t&&t<this._kickLimitDistance}getPlayerObject(){return this.playerLeaveObj??this._room.getNative().getPlayer(this.id)}getMention(){return`@${this.name.replace(/ /g,"_")}`}reply(e){e.targetID=this.id??-1,this._room.send(e)}getTeam(){return this.getPlayerObject()?.team}setTeam(e){this._room.setTeam(this.id,e)}isAdmin(){return this.getPlayerObject()?.admin}setAdmin(e){this._room.setAdmin(this.id,e)}getPosition(){return this.getPlayerObject()?.position}setPosition(e){this.setDiscObject({x:e.x,y:e.y})}getLastPosition(){return this.lastPos}updateLastPosition(){this.lastPos=this.getPosition()}addConfirmLevel(e){this.confirmLevels.push(e),function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0}(this._room.getConfirmLevels(),this.confirmLevels)&&(this._isConfirmed=!0,this._room.emit(r.EventNames.onPlayerJoin,this))}isConfirmed(){return this._isConfirmed}disable(e){return this.playerLeaveObj=e,this}}t.default=n},454:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(374),i=s(a(66));class r extends i.default{constructor(e){super(),e&&(this.list=e)}static isPlayerObject(e){return null!=e&&null!=e.name&&null!=e.team&&null!=e.id&&null!=e.admin}first(){return this.list[0]}teams(){return this.filter((e=>e.getTeam()!==o.Team.Spectators))}spectators(){return this.filter((e=>e.getTeam()===o.Team.Spectators))}red(){return this.filter((e=>e.getTeam()===o.Team.Red))}blue(){return this.filter((e=>e.getTeam()===o.Team.Blue))}get(e){return this.list.find((t=>t.id===e))??null}add(e){this.list.push(e)}remove(e){this.list=this.filter((t=>t.id!==e))}clear(){this.list=[]}clone(){return new r(this.list)}}t.default=r},894:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventNames=void 0,a(905);const o=s(a(187)),i=a(985),r=s(a(490)),l=a(374),n=s(a(286)),d=s(a(454));var c;!function(e){e.onPlayerJoin="playerJoin",e.onPlayerLeave="playerLeave",e.onTeamVictory="teamVictory",e.onPlayerChat="playerChat",e.onPlayerBallKick="playerBallKick",e.onTeamGoal="teamGoal",e.onGameStart="gameStart",e.onGameStop="gameStop",e.onPlayerAdminChange="playerAdminChange",e.onPlayerTeamChange="playerTeamChanged",e.onPlayerKicked="playerKicked",e.onGameTick="gameTick",e.onGamePause="gamePause",e.onGameUnpause="gameUnpause",e.onPositionsReset="positionsReset",e.onPlayerActivity="playerActivity",e.onStadiumChange="stadiumChange",e.onRoomLink="roomLink",e.onKickRateLimitSet="kickRateLimitSet"}(c=t.EventNames||(t.EventNames={}));class m extends o.default{_room;_password;_paused=!1;_running=!1;_players=new d.default;_deletedPlayers=new d.default;_discs=[];_commands=[];_ballCollisions=[];_playerChat=!0;_playerConfirmLevels=[];prefix="!";CollisionFlags;constructor(e){super(),null==e.noPlayer&&(e.noPlayer=!0),this._room=window.HBInit(e),this.CollisionFlags=this._room.CollisionFlags,this.load(),this.setMaxListeners(0)}_specialEvents={[c.onGameStart]:e=>{this._discs=[],this._running=!0,this.emit("gameStartTicking");for(let e=0;e<this._room.getDiscCount()-this.getPlayers().teams().length;e++)this._discs.push(new r.default(this,e))},[c.onGameStop]:e=>{this._paused=!1,this._running=!1,this._discs=[],this._ballCollisions=[]},[c.onGamePause]:e=>{this._paused=!0,this._running=!1},[c.onGameUnpause]:e=>{this._paused=!1},[c.onPlayerJoin]:e=>{const t=0!==this._playerConfirmLevels.length,a=new n.default(this,e,!t);this._players.add(a);for(const e of this._players)e.updatePlayerPositionInList();return t&&this.emit("playerNeedsConfirmation",a),a},[c.onPlayerLeave]:e=>{const t=this._players.get(e.id);t&&this._deletedPlayers.add(t),this._players.remove(e.id);for(const e of this._players)e.updatePlayerPositionInList()},[c.onPlayerChat]:(e,t)=>{const a=(0,i.getCommandNameFromString)(t,this.prefix),s=this._players.get(e.id),o=this._commands.find((e=>!(e.name!==a&&!e.aliases?.includes(a))));if(t[0]===this.prefix&&o&&s.canUseCommands){const e=o.roles;if(null==e||0==e.length||e.filter((e=>(s.roles??[]).includes(e))).length>0){const e=(0,i.getCommandArgumentsFromString)(t,this.prefix);return()=>o.func({caller:s,time:new Date(Date.now()),message:t,args:e},this)}}},[c.onGameTick]:()=>{this._running||(this.emit("gameStartTicking"),this._running=!0);const e=[];for(const t of this.getPlayers().teams())t?.distanceTo(this.getBall())<2&&e.push(t);const t=new Date(Date.now());if(0!==e.length){e.length>1?this._ballCollisions[1]={player:e[1],time:t}:this._ballCollisions[0]?.player&&e[0].id!==this._ballCollisions[0].player.id?(this._ballCollisions[1]={player:this._ballCollisions[0].player,time:this._ballCollisions[0].time},this.emit("newPlayerTouchBall",e[0],this._ballCollisions[1])):null==this._ballCollisions[0]?.player&&this.emit("newPlayerTouchBall",e[0]),this._ballCollisions[0]={player:e[0],time:t};for(const e of this.getPlayers().teams())e.updateLastPosition()}},[c.onPlayerTeamChange]:(e,t)=>{for(const e of this._players)e.updatePlayerPositionInList()}};load(){for(const[e,t]of Object.entries(c))this._room[e]=(...e)=>{const a=this._specialEvents[t];let s;const o=this._players.clone();if(a&&(t===c.onPlayerChat?s=a(...e):a(...e)),!(t===c.onPlayerJoin&&this._playerConfirmLevels.length>0))if(e=e.map((e=>{if(d.default.isPlayerObject(e)){if(t===c.onPlayerLeave)return o.get(e.id).disable(e);if(t===c.onPlayerKicked){const t=o.get(e.id)??this._deletedPlayers.get(e.id)??e;return this._deletedPlayers.remove(e.id),t}e=o.get(e.id)}return e})),s){if(!s())return!1;if(this.emit(t,...e,!0),!this._playerChat)return!1}else if(t===c.onPlayerChat){if(this.emit(t,...e,!1),!this._playerChat)return!1}else this.emit(t,...e)}}getNative(){return this._room}removeCommand(e){this._commands=this._commands.filter((t=>Reflect.getMetadata("command:name",t)===e))}module(e,...t){const a=new e(this,...t);return(Reflect.getMetadata("module:commands",a)||[]).forEach((e=>{e.func=e.func.bind(a),this._commands.push(e)})),a}start(){this._room.startGame()}stop(){this._room.stopGame()}pause(){this._room.pauseGame(!0)}unpause(){this._room.pauseGame(!1)}isGamePaused(){return this._paused}isGameTicking(){return this._running}getScores(){return this._room.getScores()}isGameInProgress(){return null!=this.getScores()}setScoreLimit(e){this._room.setScoreLimit(e)}setTimeLimit(e){this._room.setTimeLimit(e)}setKickRateLimit(e,t,a){this._room.setKickRateLimit(e,t,a)}getDisc(e){return this._discs.find((t=>t.index===e))}getDiscs(){return this._discs}getBall(){return this._discs[0]}getDiscCount(){return this._room.getDiscCount()}getPlayers(){return this._players}getPlayer(e){return this._players.get(e)}setAvatar(e,t){this._room.setPlayerAvatar(e,t)}setAdmin(e,t){this._room.setPlayerAdmin(e,t)}setTeam(e,t){this._room.setPlayerTeam(e,t)}kick(e,t){this._room.kickPlayer(e,t,!1)}ban(e,t){this._room.kickPlayer(e,t,!0)}setPlayerChat(e){this._playerChat=e}addConfirmLevel(e){this._playerConfirmLevels.push(e)}removeConfirmLevel(e){this._playerConfirmLevels=this._playerConfirmLevels.filter((t=>t!==e))}getConfirmLevels(){return this._playerConfirmLevels}clearConfirmLevels(){this._playerConfirmLevels=[]}clearBan(e){this._room.clearBan(e)}clearBans(){this._room.clearBans()}setStadium(e){"object"==typeof e&&this._room.setCustomStadium(JSON.stringify(e)),"string"==typeof e&&this._room.setDefaultStadium(e)}lockTeams(){this._room.setTeamsLock(!0)}unlockTeams(){this._room.setTeamsLock(!1)}getPassword(){return this._password}setPassword(e){this._password=e,this._room.setPassword(e)}clearPassword(){this._password=void 0,this._room.setPassword(null)}enableCaptcha(){this._room.setRequireRecaptcha(!0)}disableCaptcha(){this._room.setRequireRecaptcha(!1)}setTeamColors(e,t){"all"===e?(this._room.setTeamColors(l.Team.Red,t.angle,t.textColor,t.colors),this._room.setTeamColors(l.Team.Blue,t.angle,t.textColor,t.colors)):this._room.setTeamColors(e,t.angle,t.textColor,t.colors)}send(e){if(e.targetID&&this.getPlayer(e.targetID)?.canReadChat)this._room.sendAnnouncement(e.message,e.targetID,e.color,e.style,e.sound);else for(const t of this.getPlayers())t.isConfirmed()&&this._room.sendAnnouncement(e.message,t.id,e.color,e.style,e.sound)}startRecording(){this._room.startRecording()}stopRecording(){return this._room.stopRecording()}reorderPlayers(e,t){this._room.reorderPlayers(e,t)}}t.default=m},408:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class a{[Symbol.iterator](){let e=0;const t=Object.values(this);return{next:()=>({value:t[e++],done:e>t.length})}}}t.default=a},239:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(a(985)),d=a(374),c=l(a(593)),m=l(a(313)),u=r(a(641)),h=l(a(558));class g extends c.default{teamList=m.default;teams;maintainTeam;constructor(e){super(),this.setNextGameTeams(),e.on("gameStop",(()=>this.setNextGameTeams())),e.on("gameStart",(()=>this.setUniforms(e)))}setNextGameTeams(){const e=this.getRandomTeams(2);this.teams={red:this.maintainTeam===d.Team.Red?this.teams.red:e[0],blue:this.maintainTeam===d.Team.Blue?this.teams.red:e[1]},this.maintainTeam=null}getRandomTeams(e){return this.teamList.sort((()=>Math.random()-Math.random())).slice(0,e)}setUniforms(e){e.setTeamColors(d.Team.Red,this.teams.red),e.setTeamColors(d.Team.Blue,this.teams.blue)}getTeams(){return this.teams}setTeam(e,t){e===d.Team.Red?this.teams.red=t:e===d.Team.Blue&&(this.teams.blue=t)}setTeamToMaintainUniform(e){this.maintainTeam=e}setteamCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:(0,h.default)("NOT_ADMIN"),sound:2,color:u.Color.Orange,style:"bold"}),!1;if(!t.isGameInProgress())return e.caller.reply({message:(0,h.default)("GAME_NOT_IN_PROGRESS"),sound:2,color:u.Color.Tomato,style:"bold"}),!1;const a=e.args[0],s=e.args[1];let o,i=this.teamList.find((e=>e.name.toLowerCase().replace(/[^\S ]+/,"").toLowerCase().replace(/[^\S ]+/,"")===s?.toLowerCase()?.replace(/[^\S ]+/,"")));if("rand"!==s&&"random"!==s||(i=this.getRandomTeams(1)[0]),"red"===a)o=d.Team.Red;else{if("blue"!==a)return e.caller.reply({message:(0,h.default)("INVALID_TEAM",t.prefix),sound:2,color:u.Color.Tomato,style:"bold"}),!1;o=d.Team.Blue}return i?(t.send({message:(0,h.default)("CHANGED_TEAM_COLORS",e.caller.name,o===d.Team.Red?"Red":"Blue",i.name),color:u.Color.Pink,style:"bold"}),this.setTeam(o,i),this.setUniforms(t),!1):(e.caller.reply({message:(0,h.default)("TEAM_NOT_FOUND",t.prefix),sound:2,color:u.Color.Tomato,style:"bold"}),!1)}teamlistCommand(e,t){return e.caller.reply({message:(0,h.default)("TEAM_LIST",this.teamList.length,this.teamList.map((e=>e.name)).join(", ")),color:u.Color.Tomato,style:"bold"}),!1}}i([(0,n.default)({name:"setteam"})],g.prototype,"setteamCommand",null),i([(0,n.default)({name:"teamlist"})],g.prototype,"teamlistCommand",null),t.default=g},602:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(593)),n=a(374),d=i(a(641)),c=r(a(244)),m=a(714),u=a(571),h=a(915),g=a(172),f=r(a(138)),p=r(a(711)),y=r(a(700)),T=r(a(793)),b=r(a(239)),v=r(a(848)),k=a(813),P=r(a(558)),F=a(311),_=r(a(623));class M extends l.default{down;fieldGoal;punt;kickOff;extraPoint;safety;gameCommands;customTeams;mode;teamWithBall;playerWithBall;playerWithBallState;playerWithBallTackleCount=0;playerWithBallInitialPosition;playerWithBallFinalPosition;quarterback;qbKickedBall=!1;hikeTime;running=!1;inRedZone=!1;interceptAttemptPlayer;interceptPlayer;interceptPlayerLeftEndZone=!1;blockedPass=!1;conversion=!1;intercept=!1;scoreRed=0;scoreBlue=0;ballPosition;downCount=0;distance=20;yardsBallBehind=2;hikeTimeout;interceptionTimeout;kickOffReset;extraPointTimeout;touchdownExtraPointTimeout;failedFielGoalTimeout;fieldGoalTimeout;redZonePenalties=0;invasionPlayers=[];invasionTimeout;teamPlayersHistory=[];ballMovedTimeFG;overtime=!1;gameStopped=!1;lastPlayMessageSent=!1;timeLimit=10;hikeTimeSeconds=12;carryBallSackTime=4;finalSeconds=10;stoppageTimeMs=0;isStoppageTime=!1;stadium=this.getDefaultMap();gameTime;gameTimeSecondsToSendRec=60;endGameTime;firstKickoff=!0;matchStats;constructor(e){super(),this.matchStats=new v.default(e,Number("4000")),this.run(e)}run(e){e.lockTeams(),e.setScoreLimit(0),e.setTimeLimit(this.timeLimit),e.setStadium(this.stadium),this.down=e.module(m.Down,this),this.punt=e.module(h.Punt,this),this.fieldGoal=e.module(u.FieldGoal,this),this.kickOff=e.module(g.KickOff,this),this.extraPoint=e.module(k.ExtraPoint,this),this.safety=e.module(F.Safety,this),this.gameCommands=e.module(T.default,this),this.customTeams=e.module(b.default,this),e.on("playerBallKick",(t=>{this.setBallMoveable(e)})),e.on("playerLeave",(t=>{if(!e.isGameInProgress())return;t.id===this.playerWithBall?.id?this.playerWithBallLeft(e,t):t.id===this.quarterback?.id&&this.qbLeft(e);const a=this.teamPlayersHistory.find((e=>e.id===t.id&&null==e.timeLeft));a&&(a.timeLeft=e.getScores().time),t.getTeam()!==n.Team.Spectators&&e.pause()})),e.on("playerTeamChanged",((t,a)=>{if(!e.isGameInProgress())return;t.id===this.playerWithBall?.id?this.playerWithBallLeft(e,t):t.id===this.quarterback?.id&&this.qbLeft(e),this.clearAvatar(t);const s=this.teamPlayersHistory.find((e=>e.id===t.id&&null==e.timeLeft));s?s.team!==t.getTeam()&&(s.timeLeft=e.getScores().time,t.getTeam()!==n.Team.Spectators&&this.addPlayerToTeamHistory(t,e)):this.addPlayerToTeamHistory(t,e)})),e.on("gameStop",(t=>{this.mode=null;const a=e.stopRecording();this.gameTime>=this.gameTimeSecondsToSendRec&&this.matchStats.sendToDiscord(a,this,this.teamPlayersHistory.map((e=>(null==e.timeLeft&&(e.timeLeft=this.gameTime),{...e,points:this.matchStats.calculatePointsPlayer(e.id)??0})))),this.teamPlayersHistory=[],this.gameTime=null,this.teamWithBall=null,this.downCount=0,this.distance=20,this.scoreBlue=0,this.scoreRed=0,this.stoppageTimeMs=0,this.overtime=!1,this.gameStopped=!1,this.lastPlayMessageSent=!1,this.isStoppageTime=!1,this.firstKickoff=!0;const s=this.matchStats.getMVP();this.matchStats.clear(),s&&e.send({message:`🏆 MVP: ${s.name} (${s.points} pontos)`,color:d.Color.Gold,style:"bold"}),this.reset(e),this.resetPlay(e)})),e.on("gameStart",(t=>{this.endGameTime=e.getScores().timeLimit,this.kickOff.set({room:e,forTeam:n.Team.Red}),e.startRecording(),this.matchStats.clear(),this.overtime=!1,this.teamPlayersHistory=[...e.getPlayers().teams().map((e=>({id:e.id,name:e.name,timeJoin:0,auth:e.auth,registered:e.roles.includes(d.loggedRole),team:e.getTeam()})))]})),e.on("gameTick",(()=>{if(this.gameStopped)return;this.gameTime=e.getScores().time,this.gameTime>this.endGameTime&&!this.kickOff.isBallToBeKicked&&0!==this.stoppageTimeMs&&!this.isStoppageTime&&(y.default.sendSoundTeamMessage(e,{message:`​⏰​ Acréscimos de jogo: +${y.default.getFormattedSeconds(parseInt((this.stoppageTimeMs/1e3).toFixed(2)))} • Novo tempo limite: ${y.default.fancyTimeFormat(this.stoppageTimeMs/1e3+this.endGameTime)}`,color:d.Color.Yellow,style:"bold"}),this.isStoppageTime=!0);const t=this.isStoppageTime&&this.stoppageTimeMs/1e3+this.endGameTime<this.gameTime;if(this.gameTime>this.endGameTime&&0!==this.endGameTime&&(t||0===this.stoppageTimeMs))if(this.mode===this.down.mode||this.mode===this.fieldGoal.mode||this.mode===this.extraPoint.mode||this.conversion||this.scoreRed===this.scoreBlue||this.playerWithBall||this.mode===this.kickOff.mode)this.lastPlayMessageSent||(this.scoreRed===this.scoreBlue?(y.default.sendSoundTeamMessage(e,{message:(0,P.default)("OVERTIME"),color:d.Color.Yellow,style:"bold"}),this.overtime=!0):y.default.sendSoundTeamMessage(e,{message:(0,P.default)("LAST_PLAY"),color:d.Color.Yellow,style:"bold"}),this.lastPlayMessageSent=!0);else{this.gameStopped=!0;const t=this.scoreRed>this.scoreBlue?n.Team.Red:n.Team.Blue,a=this.invertTeam(t),s=e.getPlayers().filter((e=>e.getTeam()===a));this.customTeams.setTeamToMaintainUniform(t),e.stop(),e.send({message:(0,P.default)("GAME_WIN",this.getCustomTeamName(t),this.scoreRed,this.scoreBlue),color:d.Color.LimeGreen,style:"bold",sound:2}),setTimeout((()=>{s.forEach((e=>{e.setTeam(n.Team.Spectators)}))}),500)}})),e.on("stadiumChange",((t,a)=>{a&&(a.reply({message:(0,P.default)("CANNOT_CHANGE_MAP"),sound:2,color:d.Color.Orange,style:"bold"}),e.setStadium(this.stadium))})),e.on("gamePause",(e=>{this.kickOffReset?.pause(),this.touchdownExtraPointTimeout?.pause(),this.extraPointTimeout?.pause(),this.failedFielGoalTimeout?.pause(),this.fieldGoalTimeout?.pause()})),e.on("gameUnpause",(e=>{this.kickOffReset?.resume(),this.touchdownExtraPointTimeout?.resume(),this.extraPointTimeout?.resume(),this.failedFielGoalTimeout?.resume(),this.fieldGoalTimeout?.resume()}))}isPlayerBehindLineOfScrimmage(e){const t=p.default.getCoordinateFromYards(this.ballPosition).x;return this.teamWithBall===n.Team.Red&&e.getX()<t||this.teamWithBall===n.Team.Blue&&e.getX()>t}getTeamWithBall(e){return this.teamWithBall===n.Team.Red?e.getPlayers().red():this.teamWithBall===n.Team.Blue?e.getPlayers().blue():null}getTeamWithoutBall(e){return this.teamWithBall===n.Team.Red?e.getPlayers().blue():this.teamWithBall===n.Team.Blue?e.getPlayers().red():null}getTeamName(e){return e===n.Team.Red?"Red":"Blue"}getCustomTeamName(e){return e===n.Team.Red?`${this.customTeams.getTeams().red.name} (Red)`:`${this.customTeams.getTeams().blue.name} (Blue)`}getStateOfMatch(){return`${this.downCount} & ${this.down.goalMode?"Goal":this.distance} @ ${this.getTeamName(this.ballPosition.team)} ${this.ballPosition.yards}`}getScoreMessage(){return`Red ${this.scoreRed} • ${this.scoreBlue} Blue`}getDefaultMap(){return JSON.parse(JSON.stringify(c.default))}getBallStartPos(){const e=p.default.getCoordinateFromYards(this.ballPosition.team,this.ballPosition.yards);return e.x=e.x+_.default.Yard*this.yardsBallBehind*(this.teamWithBall===n.Team.Red?-1:1),e}addPlayerToTeamHistory(e,t){this.teamPlayersHistory.push({id:e.id,name:e.name,timeJoin:t.getScores().time,team:e.getTeam(),auth:e.auth,registered:e.roles.includes(d.loggedRole)})}clearHikeTime(){this.hikeTimeout?.stop(),this.hikeTimeout=null}clearInvasion(){this.invasionTimeout?.stop(),this.invasionTimeout=null}adjustGameTimeAfterDefensivePenalty(e){if(this.endGameTime-this.gameTime<this.finalSeconds&&0!==this.endGameTime&&!this.overtime){const t=this.endGameTime+(10-(this.endGameTime-this.gameTime));this.endGameTime!==parseInt(t+"")&&(this.endGameTime=t,y.default.sendSoundTeamMessage(e,{message:(0,P.default)("END_GAME_TIME_ADJUSTED_AFTER_PENALTY",y.default.fancyTimeFormat(this.endGameTime)),color:d.Color.Yellow,style:"bold"}),this.lastPlayMessageSent=!1)}}playerReturnedBall(e,t){if(t.getTeam()!==n.Team.Spectators&&null==this.playerWithBall)if(t.getTeam()!==this.teamWithBall){const a=this.mode===this.punt.mode?"puntReturner":"kickoffReturner";this.setPlayerWithBall(e,t,a,!0),this.mode===this.punt.mode?e.send({message:(0,P.default)("RETURNED_PUNT",t.name),color:d.Color.MediumSeaGreen,style:"bold"}):this.mode===this.kickOff.mode&&e.send({message:(0,P.default)("RETURNED_KICKOFF",t.name),color:d.Color.MediumSeaGreen,style:"bold"})}else this.qbKickedBall&&(e.send({message:(0,P.default)("ILLEGAL_TOUCH_SAME_TEAM",t.name),color:d.Color.Orange,style:"bold"}),this.down.set({room:e,pos:p.default.getYardsFromXCoord(t.getX()),forTeam:this.invertTeam(this.teamWithBall),countDistanceFromNewPos:!1}))}playerWithBallLeft(e,t){const a=this.invertTeam(this.teamWithBall),s=t.getLastPosition().x;this.clearPlayerWithBall(),this.mode===this.punt.mode||this.mode===this.kickOff.mode?e.send({message:(0,P.default)("RECEIVER_LEFT_IN_KICK",this.mode===this.punt.mode?"Punt":"Kick Off"),color:d.Color.Orange,style:"bold"}):e.send({message:(0,P.default)("RECEIVER_LEFT_IN_HIKE"),color:d.Color.Orange,style:"bold"}),this.down.set({room:e,pos:p.default.getYardsFromXCoord(s),forTeam:a})}qbLeft(e){this.mode===this.down.mode&&(e.send({message:(0,P.default)("QUARTERBACK_LEFT_IN_HIKE"),color:d.Color.Orange,style:"bold"}),this.down.set({room:e,countDown:!1}))}setPlayerWithBall(e,t,a,s){this.playerWithBallInitialPosition=t.getPosition(),t.setAvatar("🏈"),this.unlockBall(e),this.setBallMoveable(e),this.playerWithBall=t,this.playerWithBallState=a,s&&(this.running=s)}clearPlayerWithBall(){this.clearAvatar(this.playerWithBall),this.playerWithBall=null,this.playerWithBallState=null,this.playerWithBallInitialPosition=null}setPlayerWithBallStats(){let e;switch(this.playerWithBallState){case"receiver":e=p.default.getYardDifferenceBetweenPositions(p.default.getCoordinateFromYards(this.ballPosition),this.playerWithBallFinalPosition,this.playerWithBall.getTeam()),this.matchStats.add(this.playerWithBall,{jardasRecebidas:e}),this.quarterback&&this.matchStats.add(this.quarterback,{jardasLancadas:e});break;case"qbRunner":case"qbRunnerSacking":case"runner":e=p.default.getYardDifferenceBetweenPositions(p.default.getCoordinateFromYards(this.ballPosition),this.playerWithBallFinalPosition,this.playerWithBall.getTeam()),this.matchStats.add(this.playerWithBall,{jardasCorridas:e});break;case"sack":e=p.default.getYardDifferenceBetweenPositions(p.default.getCoordinateFromYards(this.ballPosition),this.playerWithBallFinalPosition,this.playerWithBall.getTeam()),this.matchStats.add(this.playerWithBall,{jardasPerdidasSack:e});break;case"kickoffReturner":case"puntReturner":e=p.default.getYardDifferenceBetweenPositions(this.playerWithBallInitialPosition,this.playerWithBallFinalPosition,this.playerWithBall.getTeam()),this.matchStats.add(this.playerWithBall,{jardasRetornadas:e,retornos:1})}}blockPass(e,t,a=!0){a&&e.send({message:(0,P.default)("INCOMPLETE_PASS",t.name)+(this.conversion?" "+(0,P.default)("INCOMPLETE_PASS_CONVERSION_FAILED"):""),color:d.Color.Yellow,style:"bold"}),this.unlockBall(e),t.setAvatar("🚧"),this.matchStats.add(t,{passesBloqueados:1}),this.mode=null,this.conversion?(this.mode=null,this.kickOffReset=new f.default((()=>{this.kickOff.set({room:e}),this.clearAvatar(t)}),3e3)):(setTimeout((()=>e.isGameInProgress()&&this.down.set({room:e})),1500),setTimeout((()=>this.clearAvatar(t)),4e3))}resetToKickoff(e,t=(this.intercept&&this.conversion?this.invertTeam(this.teamWithBall):this.teamWithBall)){this.conversion&&y.default.sendSoundTeamMessage(e,{message:(0,P.default)("CONVERSION_FAILED",this.getTeamName(t).toUpperCase()),color:d.Color.Yellow,style:"bold"}),this.mode=null,this.reset(e),this.kickOffReset=new f.default((()=>this.kickOff.set({room:e,forTeam:t})),3e3)}getHikeTimeRemainingFormatted(e){return y.default.getFormattedSeconds(parseFloat((e/1e3).toFixed(1))).replace(".",",")}getHikeTimeStatus(){let e=this.hikeTime+1e3*this.hikeTimeSeconds;return this.down.qbCarriedBallTime&&(e=Math.min(e,this.down.qbCarriedBallTime+1e3*this.carryBallSackTime)),{isOver:Date.now()>e,time:Date.now()-this.hikeTime,timeOver:e}}invertTeam(e){return e===n.Team.Red?n.Team.Blue:n.Team.Red}lockBall(e){e.getBall()?.setInvMass(1e-6)}unlockBall(e){e.getBall()?.setInvMass(1)}setBallKickForce(e,t){e.getBall()?.setInvMass(t)}setBallUnmoveable(e){e.getPlayers().forEach((e=>e.setInvMass(1e26)))}setBallMoveable(e){e.getPlayers().forEach((e=>e.setInvMass(.5)))}getDistanceToEndZone(){return p.default.getDifferenceBetweenFieldPositions(this.ballPosition,{yards:0,team:this.invertTeam(this.teamWithBall)})}getPenaltyValueInRedZone(e){const t=parseInt(""+.5*this.getDistanceToEndZone());return t<1?1:t>e?e:t}setBallUnkickable(e){e.getBall().setcGroup(e.CollisionFlags.wall)}setBallKickable(e){e.getBall().setcGroup(e.CollisionFlags.ball|e.CollisionFlags.kick)}blockTeam(e,t){t===n.Team.Red?e.getPlayers().red().forEach((t=>t.setcGroup(t.getcGroup()|e.CollisionFlags.c0))):e.getPlayers().blue().forEach((t=>t.setcGroup(t.getcGroup()|e.CollisionFlags.c1)))}unblockTeams(e){e.getPlayers().blue().forEach((t=>t.setcGroup(e.CollisionFlags.blue))),e.getPlayers().red().forEach((t=>t.setcGroup(e.CollisionFlags.red)))}ghostTeam(e,t){e.getPlayers().filter((e=>e.getTeam()===t)).forEach((e=>e.setcGroup(0)))}unghostTeam(e,t){t===n.Team.Red?e.getPlayers().red().forEach((t=>t.setcGroup(e.CollisionFlags.red))):e.getPlayers().blue().forEach((t=>t.setcGroup(e.CollisionFlags.blue)))}unghostAll(e){this.unblockTeams(e)}blockMiddleKickoff(e,t){t===n.Team.Red?e.getPlayers().red().forEach((t=>{t.setcGroup(t.getcGroup()|e.CollisionFlags.c2)})):e.getPlayers().blue().forEach((t=>{t.setcGroup(t.getcGroup()|e.CollisionFlags.c3)}))}clearAvatar(e){e?.setAvatar(e.name.replace(/[^\w\s]/gi,"").slice(0,2))}clearAvatars(e){e.getPlayers().teams().forEach((e=>{this.clearAvatar(e)}))}addToStoppage(e){this.isStoppageTime||(this.stoppageTimeMs+=e)}getStoppage(){return this.stoppageTimeMs}resetPlay(e){this.redZonePenalties=0,this.down.goalMode=!1,this.clearAvatars(e)}reset(e){e.isGameInProgress()&&(this.setBallUnmoveable(e),this.unlockBall(e),this.setBallKickable(e),this.unghostAll(e),e.getBall().setDamping(.99)),this.down.reset(),this.fieldGoal.reset(),this.kickOff.reset(),this.punt.reset(),this.interceptAttemptPlayer=null,this.clearHikeTime(),this.clearInvasion(),this.interceptionTimeout?.stop(),this.kickOffReset?.stop(),this.touchdownExtraPointTimeout?.stop(),this.extraPointTimeout?.stop(),this.failedFielGoalTimeout?.stop(),this.fieldGoalTimeout?.stop(),this.interceptionTimeout=null,this.extraPointTimeout=null,this.kickOffReset=null,this.touchdownExtraPointTimeout=null,this.failedFielGoalTimeout=null,this.fieldGoalTimeout=null,this.down.defenderBlockingBall=null,this.invasionPlayers=[],this.interceptPlayer=null,this.intercept=!1,this.conversion=!1,this.running=!1,this.ballMovedTimeFG=null,this.blockedPass=!1,this.quarterback=null,this.qbKickedBall=!1,this.interceptPlayerLeftEndZone=!1,this.playerWithBallTackleCount=0,this.clearPlayerWithBall()}}t.default=M},793:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(a(593)),d=a(374),c=r(a(641)),m=l(a(985)),u=l(a(711)),h=l(a(700)),g=l(a(138));class f extends n.default{game;maxTimeoutTime=30;minTimeoutTime=5;defaultTimeoutTime=20;pauseTimer;maxGameTimeout;timeoutUse={red:0,blue:0};timeoutTimeSeconds={red:0,blue:0};editableMapProperties={mode:{type:"string",func:(e,t)=>{const a=this.game.getDefaultMap();if("futsal"===t)a.bg.type="hockey",a.ballPhysics={pos:[0,0],radius:6.25,bCoef:.4,invMass:1.5,color:"FFCC00"},a.playerPhysics={bCoef:0,acceleration:.11,kickingAcceleration:.083};else if("bounce"===t){for(const e of a.segments)null==e.bCoef&&(e.bCoef=.1);for(const e of a.planes)null==e.bCoef?e.bCoef=0:e.bCoef=.1;a.playerPhysics={bCoef:1.5,invMass:.5,damping:.9995,acceleration:.025,kickingAcceleration:.0175,kickingDamping:.9995,kickStrength:5},a.ballPhysics={radius:10,bCoef:.5,invMass:1,damping:.99,color:"FFFFFF"}}else{if("spaceball"!==t)throw new Error("Valor inválido. Valores disponíveis: futsal, bounce, spaceball");a.playerPhysics={damping:.9995,acceleration:.025,kickingAcceleration:.0175,kickingDamping:.9995},a.ballPhysics={damping:1,color:"CCFF33"}}Object.assign(e,a)}},bg:{type:"string",func:(e,t)=>{"grass"===t?(e.bg.type="grass",delete e.bg.color):"hockey"===t||"futsal"===t?(e.bg.type="hockey",delete e.bg.color):(e.bg.type="none",e.bg.color=t.replace("0x","").replace("#",""))}},ballsize:{type:"number",func:(e,t)=>{e.ballPhysics.radius=parseInt(t)}},ballcolor:{type:"number",func:(e,t)=>{e.ballPhysics.color=t}},ballbcoef:{type:"number",func:(e,t)=>{e.ballPhysics.bCoef=t}},playerdamping:{type:"number",func:(e,t)=>{e.playerPhysics.damping=t}},playeracceleration:{type:"number",func:(e,t)=>{e.playerPhysics.acceleration=t}},playerbcoef:{type:"number",func:(e,t)=>{e.playerPhysics.bCoef=t}},playerkickstrength:{type:"number",func:(e,t)=>{e.playerPhysics.kickStrength=t}},camerafollow:{type:"string",func:(e,t)=>{e.cameraFollow=t}}};constructor(e,t){super(),this.game=t,e.on("gameUnpause",(t=>{this.pauseTimer&&(this.pauseTimer.stop(),this.pauseTimer=null,e.send({message:`⏸️ Tempo de timeout encerrado por ${t.name}`,color:c.Color.Pink,style:"bold"}))})),e.on("gameStop",(()=>{this.timeoutUse.blue=0,this.timeoutUse.red=0,this.timeoutTimeSeconds.red=0,this.timeoutTimeSeconds.blue=0,this.pauseTimer?.stop(),this.pauseTimer=null}))}ddCommand(e,t){return t.isGameInProgress()?(e.caller.reply({message:`📍 ${this.game.getStateOfMatch()} • Bola do ${this.game.getTeamName(this.game.teamWithBall)}`,color:c.Color.Pink,style:"bold"}),!1):(e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1)}scoreCommand(e,t){return t.isGameInProgress()?(e.caller.reply({message:`🎲 Red ${this.game.scoreRed} • ${this.game.scoreBlue} Blue`,color:c.Color.Pink,style:"bold"}),!1):(e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1)}unhikeCommand(e,t){return e.caller.isAdmin()?t.isGameInProgress()?this.game.mode!==this.game.down.mode||this.game.conversion?(e.caller.reply({message:"⚠️ Não há uma descida em andamento!",sound:2,color:c.Color.Orange,style:"bold"}),!1):(this.game.down.set({room:t,countDown:!1,countDistanceFromNewPos:!1}),t.send({message:`⚙️ ${e.caller.name} resetou a descida`,color:c.Color.Pink,style:"bold"}),!1):(e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1):(e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Orange,style:"bold"}),!1)}teamCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Orange,style:"bold"}),!1;if(!t.isGameInProgress())return e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(this.game.mode!==this.game.down.waitingHikeMode||this.game.conversion)return e.caller.reply({message:"⚠️ Este comando não pode ser utilizado no meio de uma jogada!",sound:2,color:c.Color.Orange,style:"bold"}),!1;const a=e.args[0];if("red"===a)this.game.teamWithBall=d.Team.Red;else if("blue"===a)this.game.teamWithBall=d.Team.Blue;else{if(null!=a)return e.caller.reply({message:`⚠️ Time inválido! Use ${t.prefix}team <red/blue> ou não especifique nenhum time caso queira alternar a posse`,sound:2,color:c.Color.Orange,style:"bold"}),!1;this.game.teamWithBall=this.game.invertTeam(this.game.teamWithBall)}return t.send({message:`⚙️ ${e.caller.name} mudou a posse da bola para o ${this.game.getTeamName(this.game.teamWithBall)}`,color:c.Color.Pink,style:"bold"}),this.game.down.goalMode=!1,this.game.down.handleFirstDownLine(t),this.game.down.setBallForHike(t,this.game.teamWithBall),!1}distanceCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Orange,style:"bold"}),!1;if(!t.isGameInProgress())return e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(this.game.mode!==this.game.down.mode&&this.game.mode!==this.game.down.waitingHikeMode||this.game.conversion)return e.caller.reply({message:"⚠️ Este comando não pode ser utilizado fora de uma descida!",sound:2,color:c.Color.Orange,style:"bold"}),!1;const a=parseInt(e.args[0]);return!Number.isInteger(a)||a<1||a>20?(e.caller.reply({message:"⚠️ Distância inválida!",sound:2,color:c.Color.Orange,style:"bold"}),!1):(t.send({message:`⚙️ ${e.caller.name} mudou a distância de ${this.game.distance} para ${a}`,color:c.Color.Pink,style:"bold"}),this.game.distance=a,u.default.isInRedZone(this.game.ballPosition,this.game.invertTeam(this.game.teamWithBall))||this.game.down.setFirstDownLine(t),!1)}downCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Orange,style:"bold"}),!1;if(!t.isGameInProgress())return e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(this.game.mode!==this.game.down.mode&&this.game.mode!==this.game.down.waitingHikeMode||this.game.conversion)return e.caller.reply({message:"⚠️ Este comando não pode ser utilizado fora de uma descida!",sound:2,color:c.Color.Orange,style:"bold"}),!1;const a=parseInt(e.args[0]);return!Number.isInteger(a)||a<1||a>4?(e.caller.reply({message:"⚠️ Número de descida inválida!",sound:2,color:c.Color.Orange,style:"bold"}),!1):(t.send({message:`⚙️ ${e.caller.name} mudou a descida da ${this.game.downCount}ª para a ${a}ª`,color:c.Color.Pink,style:"bold"}),this.game.downCount=a,!1)}setscoreCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(!t.isGameInProgress())return e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;const a=e.args[0],s=e.args[1];let o,i;if(null==a||null==s)return e.caller.reply({message:`⚠️ Comando inválido! Use: ${t.prefix}setscore <red/blue> <score>`,sound:2,color:c.Color.Tomato,style:"bold"}),!1;if("red"===a)o=d.Team.Red;else{if("blue"!==a)return e.caller.reply({message:`⚠️ Time inválido! Use: ${t.prefix}setscore <red/blue> <score>`,sound:2,color:c.Color.Tomato,style:"bold"}),!1;o=d.Team.Blue}return i=parseInt(s),!Number.isInteger(i)||i<0?(e.caller.reply({message:`⚠️ Score inválido! Use: ${t.prefix}setscore <red/blue> <score>`,sound:2,color:c.Color.Tomato,style:"bold"}),!1):(t.send({message:`⚙️ ${e.caller.name} alterou o score do ${this.game.getTeamName(o)} • ${o===d.Team.Red?this.game.scoreRed:this.game.scoreBlue} → ${i}`,color:c.Color.Pink,style:"bold"}),o===d.Team.Red?this.game.scoreRed=i:this.game.scoreBlue=i,!1)}gfiCommand(e,t){return e.caller.isAdmin()?t.isGameInProgress()?this.game.mode!==this.game.down.waitingHikeMode?(e.caller.reply({message:"⚠️ Este comando não pode ser utilizado no meio de uma jogada!",sound:2,color:c.Color.Orange,style:"bold"}),!1):(t.send({message:`⚙️ ${e.caller.name} resetou a posição dos jogadores`,color:c.Color.Pink,style:"bold"}),this.game.down.resetPlayersPosition(t),!1):(e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1):(e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Orange,style:"bold"}),!1)}setCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(!t.isGameInProgress())return e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(this.game.mode!==this.game.down.waitingHikeMode)return e.caller.reply({message:"⚠️ Este comando não pode ser utilizado no meio de uma jogada!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;const a=e.args[0],s=e.args[1];let o,i;if(null==a||null==s)return e.caller.reply({message:`⚠️ Comando inválido! Use: ${t.prefix}set <red/blue> <jardas>`,sound:2,color:c.Color.Tomato,style:"bold"}),!1;if("red"===a)o=d.Team.Red;else{if("blue"!==a)return e.caller.reply({message:`⚠️ Time inválido! Use: ${t.prefix}set <red/blue> <jardas>`,sound:2,color:c.Color.Tomato,style:"bold"}),!1;o=d.Team.Blue}return i=parseInt(s),!Number.isInteger(i)||i<1||i>50?(e.caller.reply({message:`⚠️ Jardas inválidas! Use: ${t.prefix}set <red/blue> <jardas>`,sound:2,color:c.Color.Tomato,style:"bold"}),!1):(t.send({message:`⚙️ ${e.caller.name} alterou a posição da bola`,color:c.Color.Pink,style:"bold"}),this.game.ballPosition={team:o,yards:i},this.game.down.set({room:t,countDown:!1,countDistanceFromNewPos:!1}),!1)}toCommand(e,t){if(e.caller.getTeam()===d.Team.Spectators)return e.caller.reply({message:"⚠️ Você não está em um time!",sound:2,color:c.Color.Orange,style:"bold"}),!1;if(!t.isGameInProgress())return e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(this.game.mode!==this.game.down.waitingHikeMode&&this.game.mode!==this.game.kickOff.mode)return e.caller.reply({message:"⚠️ Este comando não pode ser utilizado no meio de uma jogada!",sound:2,color:c.Color.Orange,style:"bold"}),!1;const a=e.args[0],s=parseInt(a);let o=null==s||isNaN(s)?this.defaultTimeoutTime:s;if(!Number.isInteger(o)||o<this.minTimeoutTime||o>this.maxTimeoutTime)return e.caller.reply({message:`⚠️ Valor inválido! Valor precisa ser um número válido (em segundos) a partir de ${this.minTimeoutTime} e não maior que ${this.maxTimeoutTime}`,sound:2,color:c.Color.Orange,style:"bold"}),!1;if(t.isGamePaused())return e.caller.reply({message:"⚠️ O jogo já está pausado!",sound:2,color:c.Color.Orange,style:"bold"}),!1;const i=e.caller.getTeam()===d.Team.Red?"red":"blue";if(this.maxGameTimeout)if("tempo"===this.maxGameTimeout.mode){if(this.timeoutTimeSeconds[i]+o>this.maxGameTimeout.value)return e.caller.reply({message:`⚠️ Erro! O tempo de timeout (${o}) é maior que o máximo permitido (${this.timeoutTimeSeconds[i]}/${this.maxGameTimeout.value})`,sound:2,color:c.Color.Orange,style:"bold"}),!1}else if(this.timeoutUse[i]>=this.maxGameTimeout.value)return e.caller.reply({message:`⚠️ Erro! Você atingiu seu limite máximo de timeouts durante a partida (${this.timeoutUse[i]}/${this.maxGameTimeout.value})`,sound:2,color:c.Color.Orange,style:"bold"}),!1;return this.timeoutTimeSeconds[i]+=o,this.timeoutUse[i]++,t.pause(),t.send({message:`⏸️ Timeout pedido por ${e.caller.name} • Jogo ficará pausado por ${h.default.getFormattedSeconds(o)}`,color:c.Color.Pink,style:"bold"}),this.pauseTimer=new g.default((()=>{t.send({message:"⏸️ Tempo de timeout encerrado",color:c.Color.Pink,style:"bold"}),t.unpause(),this.pauseTimer=null}),1e3*o),!1}setMaxTimeoutCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Orange,style:"bold"}),!1;const a=e.args[0],s=e.args[1],o=parseInt(s);return"disable"===a?(this.maxGameTimeout=null,t.send({message:`⚙️ ${e.caller.name} desativou o limite de timeout`,color:c.Color.Pink,style:"bold"}),!1):null==a||null==s||""==s||!Number.isInteger(o)||o<1||"tempo"!==a&&"uso"!==a?(e.caller.reply({message:"⚠️ Você precisa definir um modo (tempo/uso) e um valor válido!",sound:2,color:c.Color.Tomato,style:"bold"}),!1):(this.maxGameTimeout={mode:a,value:o},t.send({message:`⚙️ ${e.caller.name} mudou as configurações de timeout (${a} / ${o})`,color:c.Color.Pink,style:"bold"}),!1)}editMapCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(t.isGameInProgress())return e.caller.reply({message:"⚠️ Você não pode usar esse comando durante uma partida!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;const a=e.args[0];if("list"===a){const t=Object.keys(this.editableMapProperties);return e.caller.reply({message:`📙 Lista de propriedades (${t.length}): ${t.join(", ")}`,sound:2,color:c.Color.LimeGreen,style:"bold"}),!1}if("reset"===a)return t.setStadium(this.game.getDefaultMap()),t.send({message:`⚙️ ${e.caller.name} resetou o mapa`,color:c.Color.Pink,style:"bold"}),!1;const s=this.editableMapProperties[a],o=e.message.split(a)[1]?.trim();if(null==a||null==o||""==o||null==s)return e.caller.reply({message:`⚠️ Você precisa definir uma propriedade e um valor válidos! Use ${t.prefix}editmap list para ver a lista de propriedades`,sound:2,color:c.Color.Tomato,style:"bold"}),!1;let i=o,r=!0;if("number"===s.type?/^[+-]?((\d+(\.\d*)?)|(\.\d+))$/.test(o)?i=parseFloat(o):r=!1:"boolean"===s.type&&("true"!==o&&"false"!==o?r=!1:i=JSON.parse(o)),!r)return e.caller.reply({message:`⚠️ Valor inválido! Esperado: ${s.type}`,sound:2,color:c.Color.Tomato,style:"bold"}),!1;const l=JSON.parse(JSON.stringify(this.game.stadium));try{s.func(this.game.stadium,i)}catch(t){return e.caller.reply({message:`⚠️ Erro: ${t}`,sound:2,color:c.Color.Tomato,style:"bold"}),this.game.stadium=l,!1}t.setStadium({...this.game.stadium,name:this.game.stadium.name+" Personalizado"}),t.send({message:`⚙️ ${e.caller.name} alterou o mapa`,color:c.Color.Pink,style:"bold"})}acrescimosCommand(e,t){return t.isGameInProgress()?(e.caller.reply({message:`​⏰​ Acréscimos acumulados: ${h.default.getFormattedSeconds(parseInt((this.game.getStoppage()/1e3).toFixed(2)))}`,color:c.Color.Yellow,style:"bold"}),!1):(e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1)}parcialCommand(e,t){return t.isGameInProgress()?(this.game.matchStats.sendStatsMsg(e.caller),!1):(e.caller.reply({message:"⚠️ Não há nenhum jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1)}swapCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:"⚠️ Você não é admin!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;if(t.isGameInProgress())return e.caller.reply({message:"⚠️ Esse comando não pode ser utilizado durante o jogo!",sound:2,color:c.Color.Tomato,style:"bold"}),!1;const a=t.getPlayers().red(),s=t.getPlayers().blue();return a.forEach((e=>e.setTeam(d.Team.Blue))),s.forEach((e=>e.setTeam(d.Team.Red))),t.send({message:`⚙️ ${e.caller.name} alternou os times`,color:c.Color.Pink,style:"bold"}),!1}}i([(0,m.default)({name:"dd"})],f.prototype,"ddCommand",null),i([(0,m.default)({name:"score"})],f.prototype,"scoreCommand",null),i([(0,m.default)({name:"unhike"})],f.prototype,"unhikeCommand",null),i([(0,m.default)({name:"team"})],f.prototype,"teamCommand",null),i([(0,m.default)({name:"distance"})],f.prototype,"distanceCommand",null),i([(0,m.default)({name:"down"})],f.prototype,"downCommand",null),i([(0,m.default)({name:"setscore"})],f.prototype,"setscoreCommand",null),i([(0,m.default)({name:"gfi"})],f.prototype,"gfiCommand",null),i([(0,m.default)({name:"set"})],f.prototype,"setCommand",null),i([(0,m.default)({name:"to",aliases:["timeout"]})],f.prototype,"toCommand",null),i([(0,m.default)({name:"setmaxtimeout"})],f.prototype,"setMaxTimeoutCommand",null),i([(0,m.default)({name:"editmap"})],f.prototype,"editMapCommand",null),i([(0,m.default)({name:"acrescimos"})],f.prototype,"acrescimosCommand",null),i([(0,m.default)({name:"parcial"})],f.prototype,"parcialCommand",null),i([(0,m.default)({name:"swap"})],f.prototype,"swapCommand",null),t.default=f},848:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.STAT_NAMES=t.STAT_POINTS=void 0;const l=a(374),n=a(641),d=i(a(641)),c=r(a(558));var m;function u(){return Math.random().toString(36).substr(2,5).toUpperCase()}!function(e){e[e.Quarterback=0]="Quarterback",e[e.WideReceiver=1]="WideReceiver",e[e.Defense=2]="Defense",e[e.SpecialTeams=3]="SpecialTeams",e[e.Misc=4]="Misc"}(m||(m={})),t.STAT_POINTS={recepcoes:1.5,jardasRecebidas:.3,jardasCorridas:.5,touchdownRecebidos:6,touchdownCorridos:6,pickSix:6,passesTentados:0,passesCompletos:2,jardasLancadas:.1,passesPraTouchdown:4,interceptacoesLancadas:-6,sacksRecebidos:-1,jardasPerdidasSack:.5,passesBloqueados:3,tackles:1.5,sacks:6,interceptacoes:12,faltas:-3,retornos:0,touchdownRetornados:6,fieldGoalPerdidos:-2,fieldGoalJardas:.1},t.STAT_NAMES={recepcoes:["Recepções","Rec",m.WideReceiver],jardasRecebidas:["Jardas Recebidas","J Rec",m.WideReceiver],jardasCorridas:["Jardas Corridas","J Run",m.WideReceiver],touchdownRecebidos:["Touchdowns Recebidos","TD Rec",m.WideReceiver],touchdownCorridos:["Touchdowns Corridos","TD Run",m.WideReceiver],pickSix:["Pick Six","P Six",m.WideReceiver],corridas:["Corridas","Run",m.WideReceiver],passesTentados:["Passes Tentados","Pass Ten",m.Quarterback],passesCompletos:["Passes Completos","Pass Cmp",m.Quarterback],jardasLancadas:["Jardas Lançadas","J Lanc",m.Quarterback],passesPraTouchdown:["Passes para Touchdown","Pass TD",m.Quarterback],interceptacoesLancadas:["Interceptações Lançadas","Int Lanc",m.Quarterback],sacksRecebidos:["Sacks Recebidos","Sac Rec",m.Quarterback],corridasQb:["Corridas de Quarterback","QB Run",m.Quarterback],jardasPerdidasSack:["Jardas Perdidas em Sack","J Sac",m.Quarterback],passesBloqueados:["Passes Bloqueados","Pass Block",m.Defense],tackles:["Tackles","Tackle",m.Defense],sacks:["Sacks","Sack",m.Defense],interceptacoes:["Interceptações","Int",m.Defense],faltas:["Faltas","Faltas",m.Misc],retornos:["Retornos","Ret",m.SpecialTeams],jardasRetornadas:["Jardas Retornadas","J Ret",m.SpecialTeams],touchdownRetornados:["Touchdowns Retornados","TD Ret",m.SpecialTeams],fieldGoalJardas:["Jardas de Field Goal","J FG",m.SpecialTeams],fieldGoalCompletos:["Field Goals Completos","FG Cmp",m.SpecialTeams],fieldGoalPerdidos:["Field Goals Completos","FG Perd",m.SpecialTeams]},t.default=class{list=[];id=u();wsConnection;firstConnectionAttempt=!0;constructor(e,t){this.connectWs(t,e)}connectWs(e,t){this.wsConnection=new WebSocket(`ws://localhost:${e}`),this.wsConnection.onmessage=e=>{try{let a=JSON.parse(e.data);a.id&&t.send({message:(0,c.default)("GAME_RECORDED",a.id),color:n.Color.LightPink,style:"bold"})}catch(e){}},this.wsConnection.onopen=e=>{this.firstConnectionAttempt=!1},this.wsConnection.onclose=a=>{this.firstConnectionAttempt?(console.error("Could not connect to the recordings socket! The recordings feature will not work."),console.log("%cAttention: Could not connect to the recordings socket. The integration will be disabled.","font-size: 20px; color: red;")):setTimeout((()=>this.connectWs(e,t)),1e4)},this.wsConnection.onerror=e=>{console.error("Socket encountered error: ",e,"Closing socket"),this.wsConnection.close()}}calculatePointsPlayer(e){const a="number"==typeof e?this.list.find((t=>t.playerId===e))?.stats:e;if(!a)return 0;let s=0;for(const[e,o]of Object.entries(a))s+=o*(t.STAT_POINTS[e]??0);return Number(s.toFixed(1))}getMVP(){if(!this.list.length)return;const e=this.list.map((e=>[e.playerName,this.calculatePointsPlayer(e.stats)])).sort(((e,t)=>t[1]-e[1])).at(0);return{name:e[0],points:e[1]}}sendStatsMsg(e){const a=this.list.find((t=>t.playerId===e.id))?.stats;if(!a)return void e.reply({message:"⚠️ Você ainda não tem nenhum stats nessa partida!",sound:2,color:d.Color.Tomato,style:"bold"});let s=[],o=[],i=[],r=[];Object.entries(a).forEach((([e,a])=>{const l=t.STAT_NAMES[e],n=l[2],d=[l[1],a];switch(n){case m.Quarterback:s.push(d);break;case m.WideReceiver:o.push(d);break;case m.Defense:i.push(d);break;default:r.push(d)}}));const l=e=>e.filter((e=>e)).map((e=>`${e[0]} (${e[1]})`)).join(", ");let n=l(s),c=l(o),u=l(i),h=l(r),g=!1;const f=()=>g?"":(g=!0,` ${e.name} (${this.calculatePointsPlayer(e.id)}) •`);s.length&&e.reply({message:`🔴 𝐏𝐀𝐒 •${f()} ${n}`,style:"bold",color:d.Color.Tomato,sound:2}),o.length&&e.reply({message:`🟢 𝐑𝐄𝐂 •${f()} ${c}`,style:"bold",color:d.Color.LimeGreen,sound:2}),i.length&&e.reply({message:`🔵 𝐃𝐄𝐅 •${f()} ${u}`,style:"bold",color:3915204,sound:2}),r.length&&e.reply({message:`🟡 𝐌𝐈𝐒𝐂 •${f()} ${h}`,style:"bold",color:15911936,sound:2})}add(e,t){if(!e)return;const a=this.list.find((t=>t.playerId===e.id));if(a)for(const[e,s]of Object.entries(t))null!=a.stats[e]?a.stats[e]+=s:a.stats[e]=s;else this.list.push({playerId:e.id,playerName:e.name,registered:e.roles.includes(d.loggedRole),stats:t})}clear(){this.list=[],this.id=u()}async sendToDiscord(e,t,a){const s=(new TextEncoder).encode(JSON.stringify({version:d.version,redName:t.getCustomTeamName(l.Team.Red),redGoals:t.scoreRed,blueName:t.getCustomTeamName(l.Team.Blue),blueGoals:t.scoreBlue,teamsHistory:a,id:this.id,stats:this.list.map((e=>({...e,points:this.calculatePointsPlayer(e.stats)})))}));new Blob([this.createBinaryString(s.length),s,e]).arrayBuffer().then((e=>{this.wsConnection.send(e)}))}createBinaryString(e){for(var t=0,a=e,s="";t<32;t++,s+=String(a>>>31),a<<=1);return s}}},755:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AFK=void 0;const n=l(a(985)),d=a(374),c=l(a(593)),m=r(a(641)),u=l(a(700));class h extends c.default{constructor(e){super(),e.on("playerTeamChanged",(t=>{t.getTeam()!==d.Team.Spectators&&t.settings.afk&&(t.setTeam(d.Team.Spectators),e.send({message:`⚠️ ${t.name} está AFK e não pode ser movido!`,color:m.Color.Tomato,style:"bold"}))}))}afkCommand(e,t){if(t.isGameInProgress()&&e.caller.getTeam()!==d.Team.Spectators&&!t.isGamePaused()&&t.getPlayers().teams().length>2)return e.caller.reply({message:"⚠️ Você não pode ficar AFK com o jogo despausado!",color:m.Color.Tomato,style:"bold"}),!1;if(e.caller.settings.afk)e.caller.settings.afk=!1,t.send({message:`🥱 ${e.caller.name} não está mais AFK!`,color:m.Color.SeaGreen,style:"bold"}),t.emit("unafk",e.caller);else{if(e.caller.getTeam()!==d.Team.Spectators&&t.isGameInProgress())return e.caller.reply({message:"⚠️ Você não pode ficar AFK durante a partida!",color:m.Color.Tomato,style:"bold"}),!1;e.caller.settings.afk=!0,t.send({message:`😴 ${e.caller.name} ficou AFK!`,color:m.Color.Orange,style:"bold"}),t.emit("afk",e.caller),e.caller.getTeam()!==d.Team.Spectators&&e.caller.setTeam(d.Team.Spectators)}return!1}afksCommand(e,t){const a=t.getPlayers().filter((e=>e.settings.afk));return a.length>0?e.caller.reply({message:`😴 Jogadores AFK (${a.length}): ${u.default.getPlayersNames(a)}`,color:m.Color.MediumSeaGreen,style:"bold"}):e.caller.reply({message:"⚠️ Não há nenhum jogador AFK!",color:m.Color.Tomato,style:"bold"}),!1}}i([(0,n.default)({name:"afk"})],h.prototype,"afkCommand",null),i([(0,n.default)({name:"afks"})],h.prototype,"afksCommand",null),t.AFK=h},963:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Admin=void 0;const n=l(a(985)),d=l(a(593)),c=l(a(454)),m=r(a(641)),u=l(a(700));class h extends d.default{adminsAuth=[];players=new c.default;bans=[];blackBanneds=[];restrictNonRegisteredPlayers=!!window.CustomSettings?.nivel;constructor(e){super(),e.on("playerJoin",(t=>{this.updateAdmins(e)})),e.on("playerLeave",(t=>{this.updateAdmins(e)})),e.on("playerAdminChange",((t,a)=>{t.auth&&(this.restrictNonRegisteredPlayers&&!t.roles.includes(m.loggedRole)?t.setAdmin(!1):this.adminsAuth.includes(t.auth)&&!t.isAdmin()&&a&&a.id!==t.id?t.setAdmin(!0):this.updateAdmins(e))})),e.on("afk",(()=>{this.updateAdmins(e)})),e.on("playerKicked",((t,a,s,o)=>{s&&(o&&!this.adminsAuth.includes(o.auth)&&t.roles.includes(m.loggedRole)?(o.kick("Você não pode banir registrados sem ser um admin oficial!"),e.clearBan(t.id)):this.bans.push({id:t.id,name:t.name,reason:a,byPlayer:o?.name}))})),e.on("playerJoin",(e=>{e.roles.includes(m.adminAccountRole)&&this.adminsAuth.push(e.auth)}))}updateAdmins(e){if(!e.getPlayers().find((e=>e.isAdmin()&&!e.settings.afk))){const t=e.getPlayers().filter((e=>!e.isAdmin()&&!e.settings.afk&&(!this.restrictNonRegisteredPlayers||e.roles.includes(m.loggedRole))))[0];t&&t.setAdmin(!0)}}adminCommand(e,t){return this.adminsAuth.includes(e.caller.auth)?(e.caller.setAdmin(!e.caller.isAdmin()),!1):(e.caller.reply({message:"⚠️ Somente administradores oficiais podem utilizar esse comando!",color:m.Color.Tomato,style:"bold"}),!1)}limparbansCommand(e,t){return this.adminsAuth.includes(e.caller.auth)?0===this.bans.length&&"force"!==e.args[0]?(e.caller.reply({message:`⚠️ Não há ninguém banido!\n❌ Se você acha que isso é um erro, digite "${t.prefix}limparbans force" para desbanir mesmo assim.`,color:m.Color.Tomato,style:"bold"}),!1):(t.clearBans(),t.send({message:`🕊️ Todos os bans (${this.bans.length}) foram removidos por ${e.caller.name}!`,color:m.Color.HotPink,style:"bold"}),void(this.bans=[])):(e.caller.reply({message:"⚠️ Somente administradores oficiais podem utilizar esse comando!",color:m.Color.Tomato,style:"bold"}),!1)}desbanirCommand(e,t){if(!this.adminsAuth.includes(e.caller.auth))return e.caller.reply({message:"⚠️ Somente administradores oficiais podem utilizar esse comando!",color:m.Color.Tomato,style:"bold"}),!1;const a=e.args[0],s=this.bans.filter((e=>e.id===parseInt(a)||e.name===a));if(s.length){let a=[],o="";s.forEach((e=>{a.push(e.name),t.clearBan(e.id),this.bans=this.bans.filter((t=>t.id!==e.id))})),o=a.length>1?a.every(((e,t,a)=>e===a[0]))?`${a.length} jogadores com o nome ${a[0]} foram desbanidos`:`${u.default.getPlayersNames(s)} foram desbanidos`:`${a[0]} foi desbanido`,t.send({message:`🕊️ ${o} por ${e.caller.name}`,color:m.Color.HotPink,style:"bold"})}else e.caller.reply({message:"⚠️ Não foi encontrado nenhum jogador banido com esse nome ou ID!",color:m.Color.Tomato,style:"bold"})}banidosCommand(e,t){if(!this.adminsAuth.includes(e.caller.auth))return e.caller.reply({message:"⚠️ Somente administradores oficiais podem utilizar esse comando!",color:m.Color.Tomato,style:"bold"}),!1;if(this.bans.length){const t=this.bans.slice(0,20);e.caller.reply({message:`🚫 Lista de banidos (${this.bans.length}): ${u.default.getPlayersNames(t.map((e=>({name:`${e.name} (${e.id})`}))))}${this.bans.length>20?`\n🚫 ...e mais outros ${this.bans.length-t.length}.`:""}`,color:m.Color.HotPink,style:"bold"})}else e.caller.reply({message:"⚠️ Não há ninguém banido!",color:m.Color.Tomato,style:"bold"})}}i([(0,n.default)({name:"admin"})],h.prototype,"adminCommand",null),i([(0,n.default)({name:"limparbans"})],h.prototype,"limparbansCommand",null),i([(0,n.default)({name:"desbanir"})],h.prototype,"desbanirCommand",null),i([(0,n.default)({name:"banidos"})],h.prototype,"banidosCommand",null),t.Admin=h},100:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(a(593));class i extends o.default{confirmationLevel="NOT_FAKE";constructor(e){super(),e.addConfirmLevel(this.confirmationLevel),e.on("playerNeedsConfirmation",(t=>{const a=e.getPlayers().find((e=>e.ip===t.ip&&t.id!==e.id));if(a)return t.kick(`Você reentrou na sala [${a.name}]!`);t.addConfirmLevel(this.confirmationLevel)}))}}t.default=i},114:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BetterChat=void 0;const n=a(641),d=l(a(593)),c=a(374),m=r(a(641)),u=l(a(985));class h extends d.default{asianRegex=RegExp(/[\p{Script_Extensions=Mymr}\p{Script_Extensions=Han}\p{Script_Extensions=Hira}\p{Script_Extensions=Kana}\p{Script_Extensions=Bopo}\p{Script=Khmer}\p{Script=Lao}\p{Script_Extensions=Phag}\p{Script=Tai_Tham}\p{Script=Thai}\p{Script=Tibetan}]/gu);emojiRegex=RegExp(/[\u{1f300}-\u{1f5ff}\u{1f900}-\u{1f9ff}\u{1f600}-\u{1f64f}\u{1f680}-\u{1f6ff}\u{2600}-\u{26ff}\u{2700}-\u{27bf}\u{1f1e6}-\u{1f1ff}\u{1f191}-\u{1f251}\u{1f004}\u{1f0cf}\u{1f170}-\u{1f171}\u{1f17e}-\u{1f17f}\u{1f18e}\u{3030}\u{2b50}\u{2b55}\u{2934}-\u{2935}\u{2b05}-\u{2b07}\u{2b1b}-\u{2b1c}\u{3297}\u{3299}\u{303d}\u{00a9}\u{00ae}\u{2122}\u{23f3}\u{24c2}\u{23e9}-\u{23ef}\u{25b6}\u{23f8}-\u{23fa}]/gu);longRegex=RegExp(/(⸻|𒈙|𒐫|﷽|𒍙|𒊎|𒄡|𒅌|𒁏|𒀰|𒐪|𒐩|𒈙|𒐫)/gi);constructor(e){super(),e.on("playerChat",((t,a)=>{if(!t.isConfirmed())return!1;if(this.isUsingIllegalChars(a))return t.reply({message:"⚠️ Mensagem bloqueada! Excesso de caracteres especiais",sound:2,color:m.Color.Orange,style:"bold"}),!1;if(a.startsWith(";")&&t.getTeam()!==c.Team.Spectators)return void this.sendTeamMessage(e,t,a);let s=n.Color.White,o="⬜";t.roles.includes(m.loggedRole)||t.roles.includes(m.bypassRegisterRole)?t.getTeam()===c.Team.Red?o="🟥":t.getTeam()===c.Team.Blue?o="🟦":t.isAdmin()?o="🟨":t.roles.includes(m.loggedRole)&&(o="✅"):o="✖️";const i=e.getPlayers().filter((e=>a.includes(e.getMention()))).map((e=>e.id));if(i.length>0)for(const r of e.getPlayers()){const e=i.includes(r.id);r.reply({message:`${o} ${t.name}: ${a}`,color:e?n.Color.White:s,style:e?"bold":"normal",sound:e?2:1})}else e.send({message:`${o} ${t.name}: ${a}`,color:s});return!1}))}sendTeamMessage(e,t,a){for(const s of e.getPlayers().filter((e=>e.getTeam()===t.getTeam())))s.reply({message:`📞 ${t.name}: ${a.substring(1)}`,color:n.Color.Yellow,sound:2})}isUsingIllegalChars(e){const t=(e.match(this.asianRegex)||[]).length,a=(e.match(this.emojiRegex)||[]).length;return(e.match(this.longRegex)||[]).length>0||t>10||t+a>15}bbCommand(e,t){e.caller.kick("Volte sempre!")}}i([(0,u.default)({name:"bb"})],h.prototype,"bbCommand",null),t.BetterChat=h},879:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(a(985)),d=l(a(593)),c=a(641),m=r(a(641));class u extends d.default{discordCommand(e,t){e.caller.reply({message:`👾 Discord: ${m.discord}`,sound:2,color:c.Color.LightGreen,style:"bold"})}}i([(0,n.default)({name:"discord"})],u.prototype,"discordCommand",null),t.default=u},78:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(a(985)),d=l(a(593)),c=a(641),m=r(a(641));class u extends d.default{helpCommand(e){e.caller.reply({message:"📖 Comandos: !help !afk !score !dd !bb !to !versao !comoregistrar !teamlist !acrescimos !parcial",sound:2,color:c.Color.LimeGreen,style:"bold"}),e.caller.isAdmin()&&e.caller.reply({message:"🔨 Comandos de admin: !set !team !gfi !distance !down !unhike !banidos !limparbans !desbanir !editmap !clearhiketime !setmaxtimeout !setscore !setteam !swap",sound:2,color:c.Color.LimeGreen,style:"bold"}),e.caller.reply({message:"🙋 Veja nosso tutorial: https://bfleague.online/",sound:2,color:c.Color.LimeGreen,style:"bold"}),e.caller.reply({message:`👾 Entre no nosso Discord: ${m.discord}`,sound:2,color:c.Color.LimeGreen,style:"bold"})}}i([(0,n.default)({name:"help",aliases:["ajuda","comojogar","regras"]})],u.prototype,"helpCommand",null),t.default=u},840:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(a(593));function i(e){function t(e,t){let a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function a(e,t){return e>>>t|e<<32-t}function s(e,t){return e>>>t}function o(e,t,a){return e&t^~e&a}function i(e,t,a){return e&t^e&a^t&a}function r(e){return a(e,2)^a(e,13)^a(e,22)}function l(e){return a(e,6)^a(e,11)^a(e,25)}function n(e){return a(e,7)^a(e,18)^s(e,3)}return function(e){let t="0123456789abcdef",a="";for(let s=0;s<4*e.length;s++)a+=t.charAt(e[s>>2]>>8*(3-s%4)+4&15)+t.charAt(e[s>>2]>>8*(3-s%4)&15);return a}(function(e,d){let c,m,u,h,g,f,p,y,T,b,v=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),k=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),P=new Array(64);e[d>>5]|=128<<24-d%32,e[15+(d+64>>9<<4)]=d;for(let d=0;d<e.length;d+=16){c=k[0],m=k[1],u=k[2],h=k[3],g=k[4],f=k[5],p=k[6],y=k[7];for(let k=0;k<64;k++)P[k]=k<16?e[k+d]:t(t(t(a(F=P[k-2],17)^a(F,19)^s(F,10),P[k-7]),n(P[k-15])),P[k-16]),T=t(t(t(t(y,l(g)),o(g,f,p)),v[k]),P[k]),b=t(r(c),i(c,m,u)),y=p,p=f,f=g,g=t(h,T),h=u,u=m,m=c,c=t(T,b);k[0]=t(c,k[0]),k[1]=t(m,k[1]),k[2]=t(u,k[2]),k[3]=t(h,k[3]),k[4]=t(g,k[4]),k[5]=t(f,k[5]),k[6]=t(p,k[6]),k[7]=t(y,k[7])}var F;return k}(function(e){let t=Array();for(let a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<24-a%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");let t="";for(let a=0;a<e.length;a++){let s=e.charCodeAt(a);s<128?t+=String.fromCharCode(s):s>127&&s<2048?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t}(e)),8*e.length))}class r extends o.default{msgs=[];msgIntervalTimeMs=7e3;ipServerURL={RECS_PORT:"4000",DATABASE_PORT:"3000",ENABLE_LOG:"false",mode:"production"}.UNSAFE_CONNECTION_LOG;connHashURL={RECS_PORT:"4000",DATABASE_PORT:"3000",ENABLE_LOG:"false",mode:"production"}.SAFE_CONNECTION_LOG;chatLogURL={RECS_PORT:"4000",DATABASE_PORT:"3000",ENABLE_LOG:"false",mode:"production"}.CHAT_LOG;sendEmbedWebhook(e,t){return fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:null,allowed_mentions:{parse:[]},embeds:[t]})})}sendContentWebhook(e,t){return fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,allowed_mentions:{parse:[]}})})}constructor(e){super(),setInterval((()=>{0!==this.msgs.length&&(this.sendContentWebhook(this.chatLogURL,this.msgs.join("\n").substring(0,2e3)),this.msgs=[])}),this.msgIntervalTimeMs),e.on("playerJoin",(e=>{this.sendEmbedWebhook(this.ipServerURL,{color:11730954,title:e.name,url:"https://ipapi.co/"+e.ip,description:e.ip+""})})),e.on("playerChat",((e,t)=>{0!==e.roles.length&&this.msgs.push(`\` ${e.name.padStart((e.name.length+11)/2).padEnd(11)} \` ${t}`)})),e.on("playerJoin",(e=>{this.sendEmbedWebhook(this.connHashURL,{color:11730954,title:e.name,fields:[{name:"Hash",value:i(e.ip),inline:!0},{name:"Auth",value:i(e.auth),inline:!0}]}),this.msgs.push(`${e.name} entrou na sala`)})),e.on("playerLeave",(e=>{this.sendContentWebhook(this.chatLogURL,`${e.name} saiu da sala`)}))}}t.default=r},867:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(374),d=l(a(593)),c=r(a(704)),m=l(a(700)),u=r(a(641)),h=l(a(985));class g extends d.default{database=new c.default;confirmationLevel="CONFIRMED";kickTime=3e4;restrictNonRegisteredPlayers=!!window.CustomSettings?.nivel;disableAfterInitialPingFailed=!0;disabled=!1;playersWaitingConfirmation=[];constructor(e){super(),this.disableAfterInitialPingFailed&&this.database.ping().then((e=>{e.type!==c.ResponseType.Success&&(this.disabled=!0,console.log("%cAttention: Ping to database service failed. The login system will be disabled.","font-size: 20px; color: red;"))})),this.restrictNonRegisteredPlayers&&setInterval((()=>{if(!this.disabled)for(const t of e.getPlayers())t.roles.includes(u.loggedRole)||t.reply({message:`❌ Você não está registrado! Registre-se no nosso !discord${this.restrictNonRegisteredPlayers?" para poder jogar":""}.`,color:u.Color.Tomato,style:"bold",sound:2})}),3e4),e.addConfirmLevel(this.confirmationLevel),e.on("playerNeedsConfirmation",(e=>{if(this.disabled)return e.reply({message:`👋 E aí, ${e.name}! Seja bem-vindo!`,color:u.Color.LimeGreen,style:"bold",sound:2}),e.reply({message:`👾 Discord: ${u.discord}`,color:u.Color.LimeGreen,style:"bold",sound:2}),e.roles.push(u.notRegistered,u.bypassRegisterRole),void e.addConfirmLevel(this.confirmationLevel);this.database.getPlayer(e.name).then((t=>{if(t.type===c.ResponseType.Success){if((t.message.admin||t.message.faadmin)&&e.roles.push(u.adminAccountRole),t.message.auth!==e.auth)return e.reply({message:`Não foi possível verificar seu login. Você tem ${m.default.getFormattedSeconds(this.kickTime/1e3)} para se logar.\nPor favor, digite sua senha abaixo (somente a senha, sem !).\nEsqueceu sua senha? Entre no nosso Discord para alterá-la.\nDiscord: ${u.discord}`,color:u.Color.Tomato,sound:2,style:"bold"}),e.canUseCommands=!1,this.playersWaitingConfirmation.push({player:e,password:t.message.password}),void setTimeout((()=>{e.isConfirmed()||e?.kick("Não se logou a tempo!")}),this.kickTime);e.reply({message:`👋 E aí, ${e.name}! Seja bem-vindo de volta à BFL!`,color:u.Color.LimeGreen,style:"bold",sound:2}),e.reply({message:`👾 Discord: ${u.discord}`,color:u.Color.LimeGreen,style:"bold",sound:2}),e.reply({message:"✅ Você foi logado automaticamente!",color:u.Color.LimeGreen,style:"bold",sound:2}),e.roles.push(u.loggedRole)}else e.reply({message:`👋 E aí, ${e.name}! Seja bem-vindo!`,color:u.Color.LimeGreen,style:"bold",sound:2}),e.reply({message:`👾 Discord: ${u.discord}`,color:u.Color.LimeGreen,style:"bold",sound:2});t.type===c.ResponseType.InternalError?(e.reply({message:"❌ Um erro aconteceu ao conectar aos nossos servidores! Não pudemos confirmar seu registro.",color:u.Color.Tomato,style:"bold"}),e.roles.push(u.notRegistered)):t.type===c.ResponseType.Error&&(e.reply({message:`❌ Você não está registrado! Registre-se no nosso Discord${this.restrictNonRegisteredPlayers?" para poder jogar":""}.`,color:u.Color.Tomato,style:"bold"}),e.roles.push(u.notRegistered)),e.addConfirmLevel(this.confirmationLevel)})).catch((t=>{console.error(t),e.reply({message:"❌ Um erro aconteceu ao conectar aos nossos servidores!",color:u.Color.Tomato,style:"bold"}),e.roles.push(u.notRegistered),e.addConfirmLevel(this.confirmationLevel)}))})),e.on("playerLeave",(e=>{this.removeFromWaitingList(e)})),e.on("playerChat",((t,a)=>{const s=this.playersWaitingConfirmation.find((e=>e.player.id===t.id));if(s)return a!==s.password?t.reply({message:"❌ Senha incorreta! Tente novamente.",color:u.Color.Tomato,sound:2,style:"bold"}):setTimeout((()=>{this.removeFromWaitingList(t);for(const a of e.getPlayers())t.id!==a.id&&a.reply({message:`✅ ${t.name} se logou com sucesso!`,color:u.Color.LimeGreen,style:"bold"});t.reply({message:`✅ Você se logou com sucesso! Seja bem-vindo de volta, ${t.name}.`,color:u.Color.LimeGreen,sound:2,style:"bold"}),t.roles.push(u.loggedRole),t.addConfirmLevel(this.confirmationLevel),t.canUseCommands=!0,t.auth&&this.database.updateAuth(t.name,t.auth)}),0),!1})),e.on("playerTeamChanged",((t,a)=>{if(t.getTeam()!==n.Team.Spectators)return t.isConfirmed()?this.restrictNonRegisteredPlayers&&!t.roles.includes(u.loggedRole)?(e.send({message:`⚠️ ${t.name} não está registrado e não pode jogar! Registre-se em nosso !discord`,color:u.Color.Tomato,style:"bold"}),void t.setTeam(n.Team.Spectators)):void 0:(a&&a.reply({message:`⚠️ Você não pode mover ${t.name} porque ele ainda não se logou!`,color:u.Color.LimeGreen,style:"bold",sound:2}),void t.setTeam(n.Team.Spectators))})),e.on("playerAdminChange",(e=>{e.isConfirmed()||e.setAdmin(!1)}))}removeFromWaitingList(e){return this.playersWaitingConfirmation=this.playersWaitingConfirmation.filter((t=>t.player.id!==e.id))}comoRegistarCommand(e,t){e.caller.reply({message:`🔐 Entre no nosso Discord para registrar-se: ${u.discord}`,sound:2,color:u.Color.LimeGreen,style:"bold"})}}i([(0,h.default)({name:"comoregistrar",aliases:["comoregistra"]})],g.prototype,"comoRegistarCommand",null),t.default=g},233:function(e,t,a){var s=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(a(985)),r=o(a(593)),l=a(641);class n extends r.default{delay=3e5;constructor(e){super(),setInterval((()=>{e.send({message:"🎥 Veja nosso tutorial: https://www.youtube.com/watch?v=1p0xwPt5UVo",sound:1,color:l.Color.LightGreen,style:"bold"})}),this.delay)}tutorialCommand(e,t){e.caller.reply({message:"🎥 Tutorial - Futebol Americano: https://www.youtube.com/watch?v=1p0xwPt5UVo",sound:2,color:l.Color.LightGreen,style:"bold"})}}s([(0,i.default)({name:"tutorial"})],n.prototype,"tutorialCommand",null),t.default=n},344:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(a(985)),d=l(a(593)),c=a(641),m=r(a(641));class u extends d.default{versaoCommand(e,t){e.caller.reply({message:`Versão: ${m.version}`,sound:2,color:c.Color.LightGreen,style:"bold"})}}i([(0,n.default)({name:"versao"})],u.prototype,"versaoCommand",null),t.default=u},714:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Down=void 0;const n=a(374),d=r(a(641)),c=a(787),m=l(a(623)),u=l(a(361)),h=l(a(138)),g=l(a(985)),f=l(a(711)),p=l(a(700)),y=l(a(376)),T=l(a(558));class b extends c.LandPlay{name="descida";mode="down";waitingHikeMode="waitingHike";ballInitialPoss;trespassingPenalty=10;defenseTrespasserPenalty=10;qbPassedScrimmageLinePenalty=-5;attackIllegalTouchPenalty=-5;maxPenaltiesInRedZone=3;hikeMaxDistanceMoveBall=8.5;hikeTimeLimit=15e3;distanceToHike=50;illegalTouchPenalty=10;firstDownDiscsIndex=[5,6];qbCarriedBallTime=0;qbScrimmageLineMaxPermitted=8;defenderBlockingBall;sackBallTouched=!1;sack=!1;goalMode=!1;hikeTimeEnabled=!0;invasion;constructor(e,t){super(e,t),this.invasion=new y.default(e,t),e.on("gameTick",(()=>{if(this.game.mode!==this.mode)return;const t=this.game.getHikeTimeStatus(),a=this.game.getHikeTimeRemainingFormatted(t.time);if(!this.game.interceptAttemptPlayer&&this.game.quarterback)if(this.game.playerWithBall||this.game.qbKickedBall){if(this.game.qbKickedBall&&(!this.game.playerWithBall||this.sack&&!this.sackBallTouched)){if(this.sack&&f.default.isOutOfMap(e.getBall().getPosition()))return void(this.sackBallTouched=!0);const t=this.getWideReceiverCatchingBall(e);if(t&&!this.game.blockedPass&&!this.game.intercept&&!this.game.interceptAttemptPlayer&&(t.id!==this.game.quarterback.id||!this.sack))return this.qbPassedInSack(),void this.setReceiver(e,t);const a=this.getDefenderBlockingBall(e);if(a&&!this.game.blockedPass)return this.defenderBlockingBall=a,this.game.blockedPass=!0,void setTimeout((()=>{this.game.interceptAttemptPlayer||this.game.intercept||this.game.mode!==this.mode||this.sack&&this.sackBallTouched||(this.sack?this.sackBallTouched=!0:this.game.blockPass(e,a))}),100);if(this.defenderBlockingBall&&!this.game.interceptAttemptPlayer&&!this.game.intercept&&this.defenderBlockingBall.distanceTo(e.getBall())>5)return void(this.sack?this.sackBallTouched=!0:this.game.blockPass(e,this.defenderBlockingBall))}}else{if(!this.qbCarriedBallTime&&this.ballInitialPoss&&e.getBall().distanceTo({...this.ballInitialPoss,radius:e.getBall().getRadius()})>1&&(this.qbCarriedBallTime=Date.now()),this.hasQBPassedScrimmageLine(e))return t.isOver?(this.game.setPlayerWithBall(e,this.game.quarterback,"qbRunner",!0),e.send({message:(0,T.default)("QUARTERBACK_RUN",this.game.quarterback.name),color:d.Color.DeepSkyBlue,style:"bold"}),void this.game.matchStats.add(this.game.quarterback,{corridasQb:1})):(this.game.matchStats.add(this.game.quarterback,{faltas:1}),void(this.game.conversion?(e.send({message:(0,T.default)("QUARTERBACK_BLITZ_CONVERSION",a),color:d.Color.Orange,style:"bold"}),this.game.resetToKickoff(e)):(e.send({message:(0,T.default)("QUARTERBACK_BLITZ",a),color:d.Color.Orange,style:"bold"}),this.set({room:e,increment:this.qbPassedScrimmageLinePenalty}))));if(this.qbIsAttemptingRun(e))return this.game.setPlayerWithBall(e,this.game.quarterback,"qbRunner",!0),e.send({message:(0,T.default)("QUARTERBACK_RUN",this.game.quarterback.name),color:d.Color.DeepSkyBlue,style:"bold"}),void this.game.matchStats.add(this.game.quarterback,{corridasQb:1});const s=this.getPlayerTouchingBall(e);if(s)return void this.playerTouchBallHike(e,s);if(this.hasQBBallPassedScrimmageLine(e))return this.game.matchStats.add(this.game.quarterback,{faltas:1}),void(this.game.conversion?(e.send({message:(0,T.default)("BALL_PASSED_SCRIMMAGE_LINE_CONVERSION"),color:d.Color.Orange,style:"bold"}),this.game.resetToKickoff(e)):(e.send({message:(0,T.default)("BALL_PASSED_SCRIMMAGE_LINE"),color:d.Color.Orange,style:"bold"}),this.set({room:e})));if(this.isBallOutsideField(e))return void(this.game.conversion?(e.send({message:(0,T.default)("BALL_OUTSIDE_FIELD_CONVERSION"),color:d.Color.Orange,style:"bold"}),this.game.resetToKickoff(e)):(e.send({message:(0,T.default)("BALL_OUTSIDE_FIELD"),color:d.Color.Orange,style:"bold"}),this.set({room:e})));const o=this.getRunningBackAttemptingRun(e);if(o)return o.valid?(e.send({message:(0,T.default)("RUN",o.player.name),color:d.Color.DeepSkyBlue,style:"bold"}),this.game.matchStats.add(o.player,{corridas:1}),void this.game.setPlayerWithBall(e,o.player,"runner",!0)):(this.game.matchStats.add(o.player,{faltas:1}),void(this.game.conversion?(e.send({message:(0,T.default)("ILLEGAL_RUN_CONVERSION",o.player.name),color:d.Color.Orange,style:"bold"}),this.game.resetToKickoff(e)):(e.send({message:(0,T.default)("ILLEGAL_RUN_HIKE",o.player.name),color:d.Color.Orange,style:"bold"}),this.set({room:e}))));const i=this.getDefensePlayersTrespassing(e);if(i){if(!t.isOver){let t=this.defenseTrespasserPenalty;if(f.default.isInRedZone(this.game.ballPosition,this.game.invertTeam(this.game.teamWithBall))){if(this.game.redZonePenalties++,this.game.redZonePenalties>=this.maxPenaltiesInRedZone)return void this.setRedZoneTouchdown(e,this.game.teamWithBall,this.game.invasionPlayers,(0,T.default)("AUTO_TOUCHDOWN_BLITZ",i.name,a));t=this.game.getPenaltyValueInRedZone(this.trespassingPenalty),e.send({message:(0,T.default)("REDZONE_BLITZ",i.name,a,this.game.redZonePenalties,this.maxPenaltiesInRedZone,t),color:d.Color.Orange,style:"bold"})}else e.send({message:(0,T.default)("BLITZ",i.name,a,t),color:d.Color.Orange,style:"bold"});return this.game.adjustGameTimeAfterDefensivePenalty(e),this.game.matchStats.add(i,{faltas:1}),void this.set({room:e,increment:t,countDown:!1})}this.game.setPlayerWithBall(e,this.game.quarterback,"qbRunnerSacking",!0),this.sack=!0,e.send({message:(0,T.default)("SACK_ATTEMPT",i.name,this.game.quarterback.name),color:d.Color.DeepSkyBlue,style:"bold"})}if(!t.isOver&&this.invasion.handle(e))return}this.didInterceptionFailed(e)&&(this.sack?(e.send({message:(0,T.default)("INTERCEPTION_FAILED_SACK",this.game.interceptAttemptPlayer.name,this.game.interceptAttemptPlayer.name),color:d.Color.Orange,style:"bold"}),this.sackBallTouched=!0,this.game.interceptAttemptPlayer=null):(e.send({message:(0,T.default)("INTERCEPTION_FAILED",this.game.interceptAttemptPlayer.name,this.game.interceptAttemptPlayer.name),color:d.Color.Orange,style:"bold"}),this.game.blockPass(e,this.game.interceptAttemptPlayer,!1),this.game.interceptAttemptPlayer=null))})),e.on("playerChat",((t,a)=>{"hike"===a&&this.game.mode===this.waitingHikeMode&&this.setHike(t,e)})),e.on("playerBallKick",(t=>{this.game.mode!==this.mode||this.game.interceptAttemptPlayer||this.game.intercept||(this.game.qbKickedBall?(!this.game.playerWithBall||this.sack&&!this.sackBallTouched&&t.id!==this.game.quarterback.id)&&(t.getTeam()!==this.game.teamWithBall?this.game.interceptAttemptPlayer?this.sack?this.sackBallTouched=!0:this.game.blockPass(e,t):this.handleInterception(e,t):(this.sack&&this.qbPassedInSack(),this.setReceiver(e,t))):t.id===this.game.quarterback?.id?(this.game.qbKickedBall=!0,this.game.matchStats.add(this.game.quarterback,{passesTentados:1})):(this.game.clearAvatar(this.game.quarterback),this.playerTouchBallHike(e,t)))})),e.on("gamePause",(t=>{this.game.mode===this.waitingHikeMode&&this.game.hikeTimeout&&e.isGameInProgress()&&(this.game.hikeTimeout?.pause(),t&&e.send({message:(0,T.default)("GAME_PAUSED"),color:d.Color.Pink,style:"bold"}))})),e.on("gameUnpause",(t=>{this.game.mode===this.waitingHikeMode&&this.game.hikeTimeout&&e.isGameInProgress()&&t&&e.send({message:(0,T.default)("GAME_RESUMED",t.name),color:d.Color.Pink,style:"bold"})})),e.on("gameStartTicking",(()=>{this.game.mode===this.waitingHikeMode&&this.game.hikeTimeout&&e.isGameInProgress()&&this.game.hikeTimeout?.resume()}))}setHike(e,t){if(e.getTeam()!==this.game.teamWithBall)return;if(t.isGamePaused())return;if(!t.isGameInProgress())return;if(e.distanceTo(t.getBall())>this.distanceToHike)return;const a=this.game.teamWithBall===n.Team.Red?t.getPlayers().red():t.getPlayers().blue(),s=f.default.getCoordinateFromYards(this.game.ballPosition).x;if(this.game.teamWithBall===n.Team.Red?e.getX()>s:e.getX()<s)return void setTimeout((()=>{this.game.conversion&&this.game.extraPoint.set({room:t,forTeam:this.game.teamWithBall,silent:!0})}),0);const o=a.filter((e=>this.game.teamWithBall===n.Team.Red?e.getX()>s:e.getX()<s));if(!(o.length>0))return this.game.quarterback=e,this.game.mode=this.mode,this.game.unlockBall(t),this.game.setBallMoveable(t),this.game.hikeTime=Date.now(),this.game.clearHikeTime(),setTimeout((()=>{t.send({message:(0,T.default)("HIKED"),color:5176482,style:"bold"}),this.game.extraPointTimeout?.stop(),this.game.extraPointTimeout=null}),0);setTimeout((()=>{t.send({message:(0,T.default)("HIKE_BLOCKED_OFFENSIVE_BLITZ",this.game.getTeamName(this.game.teamWithBall),p.default.getPlayersNames(o)),sound:1,color:d.Color.Tomato,style:"bold"}),this.game.conversion&&this.game.extraPoint.set({room:t,forTeam:this.game.teamWithBall,silent:!0}),o.forEach((e=>{e.reply({message:(0,T.default)("HIKE_BLOCKED_OFFENSIVE_BLITZ_PLAYER_WARNING"),sound:2,color:d.Color.Red,style:"bold"})}))}),0)}set({room:e,pos:t,forTeam:a=this.game.teamWithBall,increment:s,countDown:o=!0,countDistanceFromNewPos:i=!0}){const r=this.game.mode===this.mode,l=this.game.conversion;if(this.game.conversion&&(o=!1,i=!1),this.game.mode=null,this.game.reset(e),l&&(this.game.conversion=!0),i&&t&&!this.game.conversion){const e=f.default.getDifferenceBetweenFieldPositions(this.game.ballPosition,t,this.game.teamWithBall);this.game.distance+=e}t||(t=this.game.ballPosition),this.game.ballPosition=t;let n=!1;null!=s&&(this.game.ballPosition=f.default.addYardsToFieldPosition(this.game.ballPosition,s,this.game.teamWithBall),this.game.distance-=s),f.default.isInRedZone(this.game.ballPosition,this.game.invertTeam(a))?this.game.inRedZone=!0:(this.game.inRedZone=!1,this.goalMode=!1),this.game.distance<=0&&!this.goalMode&&(this.game.distance=20,this.game.downCount=0,n=r);const c=e=>this.hikeTimeEnabled?(0,T.default)("HIKE_TIME",this.game.getTeamName(e),p.default.getFormattedSeconds((this.game.conversion?this.game.extraPoint.epTimeLimit:this.hikeTimeLimit)/1e3)):(0,T.default)("HIKE_DISABLED");if(this.game.conversion)this.game.downCount=4,this.game.distance=10,this.goalMode=!0,e.send({message:(0,T.default)("CONVERSION_ATTEMPT",this.game.getTeamName(a))+" "+c(a),color:d.Color.LightGreen,style:"bold"});else if(0===this.game.downCount)this.game.downCount=1,this.game.inRedZone&&(this.goalMode=!0),e.send({message:`${this.getDownEmoji(this.game.downCount)} ${this.game.getStateOfMatch()} ${n?(0,T.default)("WON_20_YARDS"):""} ${(0,T.default)("FIRST_DOWN",this.game.getTeamName(a))} ${c(a)}`,color:d.Color.LightGreen,style:"bold"});else if(4===this.game.downCount&&o){const t=this.game.invertTeam(a);this.game.downCount=1,this.game.distance=20,this.goalMode=!1,e.send({message:`${this.getDownEmoji(this.game.downCount)} ${this.game.getStateOfMatch()} ${(0,T.default)("TURNOVER_ON_DOWNS",this.game.getTeamName(a))} ${(0,T.default)("FIRST_DOWN",this.game.getTeamName(t))} ${c(t)}`,color:d.Color.LightGreen,style:"bold"}),a=t}else o&&this.game.downCount++,e.send({message:`${this.getDownEmoji(this.game.downCount)} ${this.game.getStateOfMatch()} ${(0,T.default)("NTH_DOWN",this.game.downCount)} ${c(a)}`,color:d.Color.LightGreen,style:"bold"});this.game.teamWithBall=a,this.setBallForHike(e,a),this.resetPlayersPosition(e),this.game.mode=this.waitingHikeMode,this.handleFirstDownLine(e),this.setBallLine(e),!e.isGamePaused()&&this.hikeTimeEnabled&&(this.game.hikeTimeout=new h.default((()=>{this.game.conversion?(e.send({message:(0,T.default)("TOOK_TO_LONG_TO_KICK_CONVERSION"),color:d.Color.Orange,style:"bold"}),this.game.resetToKickoff(e,a)):(e.send({message:(0,T.default)("TOOK_TO_LONG_TO_HIKE"),color:d.Color.Orange,style:"bold"}),this.set({room:e}))}),this.game.conversion?this.game.extraPoint.epTimeLimit:this.hikeTimeLimit))}reset(){this.qbCarriedBallTime=0,this.ballInitialPoss=null,this.sack=null,this.sackBallTouched=!1,this.invasion.clear()}setBallPositionForHike(e,t){const a=f.default.getCoordinateFromYards(this.game.ballPosition.team,this.game.ballPosition.yards);a.x=a.x+m.default.Yard*this.game.yardsBallBehind*(t===n.Team.Red?-1:1),e.setPosition(a),this.ballInitialPoss=a}setBallForHike(e,t){const a=e.getBall();a.setVelocityX(0),a.setVelocityY(0),this.game.lockBall(e),this.game.setBallUnmoveable(e),this.setBallPositionForHike(a,t)}setFirstDownLine(e,t=f.default.addYardsToFieldPosition(this.game.ballPosition,this.game.distance,this.game.teamWithBall)){const a=f.default.getCoordinateFromYards(t.team,t.yards).x,s=e.getDisc(this.firstDownDiscsIndex[0]),o=e.getDisc(this.firstDownDiscsIndex[1]);s&&o&&(s.setPosition({x:a,y:m.default.OuterField[0].y}),o.setPosition({x:a,y:m.default.OuterField[1].y}))}resetFirstDownLine(e){const t=e.getDisc(this.firstDownDiscsIndex[0]),a=e.getDisc(this.firstDownDiscsIndex[1]);t&&a&&(t.setPosition({x:0,y:0}),a.setPosition({x:0,y:0}))}qbPassedInSack(){this.game.playerWithBall?.id===this.game.quarterback.id&&this.sack&&(this.game.clearAvatar(this.game.quarterback),this.sack=!1)}setReceiver(e,t){this.game.setPlayerWithBall(e,t,"receiver",!1),this.game.matchStats.add(t,{recepcoes:1}),this.game.matchStats.add(this.game.quarterback,{passesCompletos:1}),e.send({message:(0,T.default)("BALL_RECEIVED",t.name),color:d.Color.Yellow,style:"bold"})}resetPlayersPosition(e){const t=f.default.getCoordinateFromYards(this.game.ballPosition.team,this.game.ballPosition.yards),a=e.getPlayers().teams();for(const e of a)e.getTeam()===n.Team.Red?e.setX(t.x-10*m.default.Yard):e.setX(t.x+10*m.default.Yard)}handleFirstDownLine(e){this.isFirstDownLineInsideEndZone()||this.goalMode?this.resetFirstDownLine(e):this.setFirstDownLine(e)}isFirstDownLineInsideEndZone(){return f.default.addYardsToFieldPosition(this.game.ballPosition,this.game.distance,this.game.teamWithBall,!0).yards<1}getDownEmoji(e){let t="";switch(e){case 1:t="1️⃣";break;case 2:t="2️⃣";break;case 3:t="3️⃣";break;case 4:t="4️⃣";break;default:t="*️⃣"}return t}playerTouchBallHike(e,t){if(this.game.playerWithBall)return;const a=this.game.getHikeTimeStatus();if(t.getTeam()!==this.game.teamWithBall)if(a.isOver)this.game.setPlayerWithBall(e,this.game.quarterback,"qbRunnerSacking",!0),this.sack=!0,e.send({message:(0,T.default)("SACK_ATTEMPT",t.name,this.game.quarterback.name),color:d.Color.DeepSkyBlue,style:"bold"});else{const s=this.game.getHikeTimeRemainingFormatted(a.time);let o=this.illegalTouchPenalty;if(f.default.isInRedZone(this.game.ballPosition,this.game.invertTeam(this.game.teamWithBall))){if(this.game.redZonePenalties++,this.game.redZonePenalties>=this.maxPenaltiesInRedZone)return void this.setRedZoneTouchdown(e,this.game.teamWithBall,[t],(0,T.default)("ILLEGAL_TOUCH",t.name,s));o=this.game.getPenaltyValueInRedZone(this.illegalTouchPenalty),e.send({message:(0,T.default)("ILLEGAL_TOUCH_REDZONE",t.name,s,this.game.redZonePenalties,this.maxPenaltiesInRedZone,o),color:d.Color.Orange,style:"bold"})}else e.send({message:(0,T.default)("ILLEGAL_TOUCH_OF_AT_PENALTY",t.name,s,o),color:d.Color.Orange,style:"bold"});this.game.matchStats.add(t,{faltas:1}),this.game.adjustGameTimeAfterDefensivePenalty(e),this.set({room:e,increment:o,countDown:!1})}else e.send({message:(0,T.default)("ILLEGAL_TOUCH_OF",t.name),color:d.Color.Orange,style:"bold"}),this.game.matchStats.add(t,{faltas:1}),this.game.conversion?this.game.resetToKickoff(e):this.set({room:e,increment:this.attackIllegalTouchPenalty})}handleInterception(e,t){this.game.interceptAttemptPlayer=t,this.game.lockBall(e);const a=e.getBall().getPosition(),s=e.getBall().getVelocityX();this.game.interceptionTimeout=new h.default((()=>{const o=u.default.getBallPathFromPosition(a,e.getBall().getPosition(),2e3),i=t.getTeam()===n.Team.Red?1.3:1.1,r=t.getTeam()===n.Team.Blue?1.3:1.1;let l;if(l=s<0?u.default.getPointOfIntersection(o[0].x,o[0].y,o[1].x,o[1].y,m.default.RedGoalLine[0].x,m.default.RedGoalLine[0].y*i,m.default.RedGoalLine[1].x,m.default.RedGoalLine[1].y*i):u.default.getPointOfIntersection(o[0].x,o[0].y,o[1].x,o[1].y,m.default.BlueGoalLine[0].x,m.default.BlueGoalLine[0].y*r,m.default.BlueGoalLine[1].x,m.default.BlueGoalLine[1].y*r),!this.game.playerWithBall||this.sack&&!this.sackBallTouched)try{if(!1===l)throw"Missed interception";const a=e.getBall().distanceTo({...l,radius:1});if(e.getBall().getVelocity()/.01+100<a)throw"Too far";e.send({message:(0,T.default)("INTERCEPTION_ATTEMPT_DETECTED",t.name),color:d.Color.Yellow,style:"bold"})}catch(a){this.game.interceptAttemptPlayer=null,this.sack?this.sackBallTouched=!0:this.game.blockPass(e,t)}}),0)}isBallOutsideField(e){return f.default.isOutOfMap(e.getBall().getPosition(),2*e.getBall().getRadius())}hasQBBallPassedScrimmageLine(e){if(!this.game.quarterback)return!1;const t=f.default.getCoordinateFromYards(this.game.ballPosition),a=e.getBall().getPosition();return this.game.quarterback.getTeam()===n.Team.Red&&a.x>t.x||this.game.quarterback.getTeam()===n.Team.Blue&&a.x<t.x}hasQBPassedScrimmageLine(e){if(!this.game.quarterback)return!1;const t=f.default.getCoordinateFromYards(this.game.ballPosition);return this.game.quarterback.getTeam()===n.Team.Red&&this.game.quarterback.getX()>t.x||this.game.quarterback.getTeam()===n.Team.Blue&&this.game.quarterback.getX()<t.x}qbIsAttemptingRun(e){const t=this.game.getHikeTimeStatus().isOver;return!this.game.qbKickedBall&&t&&this.game.quarterback.distanceTo(e.getBall())>100}isQBCarryingBall(e){const t=e.getBall(),a=f.default.getCoordinateFromYards(this.game.ballPosition.team,this.game.ballPosition.yards);return this.game.quarterback&&this.game.quarterback.distanceTo(t)>5&&(Math.abs(t.getX()-a.x)>2||Math.abs(t.getY()-a.y)>2)||t.distanceTo({...a,radius:t.getRadius()})>this.hikeMaxDistanceMoveBall}didInterceptionFailed(e){return!!(this.game.interceptAttemptPlayer&&u.default.getBallSpeed(e.getBall())<.1)}getDefensePlayersTrespassing(e){const t=this.game.getHikeTimeStatus().isOver;for(const a of this.game.getTeamWithoutBall(e))if(!this.game.qbKickedBall){let s=f.default.getCoordinateFromYards(this.game.ballPosition).x;if(this.game.getTeamWithBall(e).filter((e=>e.id!==this.game.quarterback.id)).some((e=>{if(e.distanceTo(a)<1)return!0}))&&(s+=a.getRadius()*(this.game.teamWithBall===n.Team.Red?-1:1)),(this.game.teamWithBall===n.Team.Red&&a.getX()<s||this.game.teamWithBall===n.Team.Blue&&a.getX()>s)&&(!this.game.playerWithBall||!t))return a}}getPlayerTouchingBall(e){for(const t of e.getPlayers().teams())if(t.id!==this.game.quarterback.id&&t.distanceTo(e.getBall())<.5)return t}getRunningBackAttemptingRun(e){for(const t of this.game.getTeamWithBall(e))if(t.id!==this.game.quarterback.id&&t.distanceTo(this.game.quarterback)<=.1)return{valid:!0,player:t}}getWideReceiverCatchingBall(e){if(this.game.qbKickedBall)for(const t of this.game.getTeamWithBall(e))if(t.id!==this.game.quarterback.id&&t.distanceTo(e.getBall())<.5)return t}getDefenderBlockingBall(e){for(const t of this.game.getTeamWithoutBall(e))if(t.distanceTo(e.getBall())<.2)return t}resetHikeTimeCommand(e,t){if(!e.caller.isAdmin())return e.caller.reply({message:(0,T.default)("NOT_ADMIN"),sound:2,color:d.Color.Orange,style:"bold"}),!1;if(!t.isGameInProgress())return e.caller.reply({message:(0,T.default)("GAME_NOT_IN_PROGRESS"),sound:2,color:d.Color.Tomato,style:"bold"}),!1;if(this.game.mode!==this.waitingHikeMode)return e.caller.reply({message:(0,T.default)("CANNOT_USE_COMMAND_IN_PLAY"),sound:2,color:d.Color.Orange,style:"bold"}),!1;const a=e.args[0];return"disable"===a?(this.hikeTimeEnabled=!1,this.game.clearHikeTime(),t.send({message:(0,T.default)("COMMAND_CHT_DISABLE_ALL",e.caller.name),color:d.Color.Pink,style:"bold"})):"enable"===a?(this.hikeTimeEnabled=!0,t.send({message:(0,T.default)("COMMAND_CHT_ENABLE",e.caller.name),color:d.Color.Pink,style:"bold"})):(this.game.clearHikeTime(),t.send({message:(0,T.default)("COMMAND_CHT_DISABLE_THIS",e.caller.name),color:d.Color.Pink,style:"bold"})),!1}}i([(0,g.default)({name:"clearhiketime",aliases:["cht"]})],b.prototype,"resetHikeTimeCommand",null),t.Down=b},253:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DownPlay=void 0;const o=s(a(593));class i extends o.default{game;constructor(e){super(),this.game=e}}t.DownPlay=i},813:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtraPoint=void 0;const l=a(374),n=i(a(641)),d=a(421),c=r(a(623)),m=r(a(361)),u=r(a(138)),h=r(a(711)),g=r(a(700));class f extends d.Mode{name="extra point";mode="extraPoint";epPoints=1;conversionPoints=2;intConversionPoints=2;epTimeLimit=8e3;playerLineLengthExtraPointKickingTeam=100;playerLineLengthExtraPointOtherTeam=100;playerBackDistanceExtraPoint=100;maxTimeEPMoveBallPenalty=1e3;epMaxDistanceMoveBall=8.5;maxDistanceYardsEP=57;extraPointYards=10;conversionYards=10;epKicker;constructor(e,t){super(t),e.on("playerBallKick",(t=>{if(this.game.mode===this.mode)if(this.game.extraPointTimeout.stop(),t.getTeam()===this.game.teamWithBall)if(this.game.qbKickedBall)this.handleIllegalBallKick(e);else{this.game.qbKickedBall=!0,this.epKicker=t,this.game.setBallUnmoveable(e),this.game.lockBall(e),this.game.setBallUnkickable(e),this.game.unghostAll(e);const a=e.getBall().getPosition();setTimeout((()=>{this.detectFailedExtraPoint(e,t,a)&&this.handleMissedExtraPointBallWrongDirection(e)}),0)}else this.handleIllegalTouchByEnemyTeam(e)})),e.on("gameTick",(()=>{if(this.game.conversion&&this.game.playerWithBall&&!this.game.intercept){const t=this.game.playerWithBall;(this.game.teamWithBall===l.Team.Red?t.getX()<c.default.RedZoneBlue[1].x:t.getX()>c.default.RedZoneRed[1].x)&&(e.send({message:`❌ Tentativa de deixar a red zone por ${t.name} com a bola durante conversão • Perde a conversão`,color:n.Color.Orange,style:"bold"}),this.game.resetToKickoff(e))}else this.game.mode===this.mode&&(this.game.qbKickedBall?this.didBallPassedGoalLine(e)?this.handleSuccessfulExtraPoint(e):m.default.getBallSpeed(e.getBall())<.5&&this.handleMissedExtraPointBallStopped(e):null==this.game.ballMovedTimeFG&&this.didBallMove(e)&&(this.game.ballMovedTimeFG=Date.now()))})),e.on("playerChat",((t,a)=>{"hike"!==a||t.getTeam()!==this.game.teamWithBall||this.game.mode!==this.mode||this.game.conversion||(this.game.conversion=!0,this.game.mode=this.game.down.mode,this.game.down.setHike(t,e))}))}set({room:e,forTeam:t=this.game.teamWithBall,silent:a,yards:s}){this.game.mode=null,this.game.reset(e),this.game.resetPlay(e),this.game.teamWithBall=t,this.game.ballPosition={team:this.game.invertTeam(t),yards:s??this.extraPointYards},this.game.downCount=0,this.game.distance=20;const o=h.default.getCoordinateFromYards(this.game.ballPosition.team,this.game.ballPosition.yards),i=e.getBall();if(i.setVelocityX(0),i.setVelocityY(0),i.setPosition(o),this.game.unlockBall(e),this.game.setBallUnmoveable(e),this.game.down.setBallPositionForHike(i,t),this.game.down.resetFirstDownLine(e),this.game.down.setBallLine(e),!a){e.send({message:`🥅 Extra Point para o ${this.game.getTeamName(t)} • ${g.default.getFormattedSeconds(this.epTimeLimit/1e3)} para chutar extra point`,color:n.Color.LightGreen,style:"bold"});const a=e.getPlayers().red(),s=e.getPlayers().blue();let i=t===l.Team.Red?a:s,r=t===l.Team.Red?s:a;this.game.teamWithBall=t;const d=m.default.getPointsAlongLine({x:0,y:this.playerLineLengthExtraPointOtherTeam},{x:0,y:-this.playerLineLengthExtraPointOtherTeam},r.length);for(let e=0;e<i.length;e++)i[e].setX(o.x+(t===l.Team.Red?-this.playerBackDistanceExtraPoint:this.playerBackDistanceExtraPoint));for(let e=0;e<r.length;e++)r[e].setPosition({x:t===l.Team.Red?900:-900,y:d[e].y})}this.game.mode=this.mode,this.game.extraPointTimeout||(this.game.extraPointTimeout=new u.default((()=>{e.send({message:"❌ Demorou demais pra chutar, perde o extra point!",color:n.Color.Orange,style:"bold"}),this.resetToKickoff(e,t)}),this.epTimeLimit))}reset(){this.epKicker=null}scoreExtraPoint(e,t,a){t===l.Team.Red?this.game.scoreRed+=a:this.game.scoreBlue+=a,this.resetToKickoff(e,t)}resetToKickoff(e,t){this.game.mode=null,this.game.kickOffReset=new u.default((()=>this.game.kickOff.set({room:e,forTeam:t})),3e3)}didBallMove(e){const t=h.default.getCoordinateFromYards(this.game.ballPosition.team,this.game.ballPosition.yards),a=e.getBall();return Math.abs(a.getX()-t.x)>.01||Math.abs(a.getY()-t.y)>.01}didBallIlegallyMoveDuringEP(e){const t=h.default.getCoordinateFromYards(this.game.ballPosition.team,this.game.ballPosition.yards),a=e.getBall();return a.distanceTo({...t,radius:a.getRadius()})>this.epMaxDistanceMoveBall||null!=this.game.ballMovedTimeFG&&!this.game.qbKickedBall&&Date.now()>this.game.ballMovedTimeFG+this.maxTimeEPMoveBallPenalty}didBallPassedGoalLine(e){return h.default.isOutOfMap(e.getBall().getPosition())&&h.default.ballWithinGoalLine(e.getBall(),this.game.invertTeam(this.game.teamWithBall))}detectFailedExtraPoint(e,t,a){const s=m.default.getBallPathFromPosition(a,e.getBall().getPosition(),2e3),o=t.getTeam()===l.Team.Red?c.default.BlueGoalLine:c.default.RedGoalLine,i=m.default.getPointOfIntersection(s[0].x,s[0].y,s[1].x,s[1].y,o[0].x,1.1*o[0].y,o[1].x,1.1*o[1].y);if(!this.game.playerWithBall&&!1===i)return!0}handleIllegalBallMove(e){e.send({message:"❌ Condução ilegal da bola durante o Extra Point • Perde o EP",color:n.Color.Orange,style:"bold"}),this.resetToKickoff(e,this.game.teamWithBall)}handleIllegalBallKick(e){e.send({message:"❌ Dois toques na bola pelo time que chutou • Ilegal • EP falhou",color:n.Color.Orange,style:"bold"}),this.resetToKickoff(e,this.game.teamWithBall)}handleIllegalTouchByEnemyTeam(e){this.scoreExtraPoint(e,this.game.teamWithBall,this.conversionPoints),g.default.sendSoundTeamMessage(e,{message:`🙌 Toque ilegal da equipe adversária durante o Extra Point • +${this.conversionPoints} pontos para o ${this.game.getTeamName(this.game.teamWithBall)} • ${this.game.getScoreMessage()}`,color:n.Color.LimeGreen,style:"bold"})}handleSuccessfulExtraPoint(e){this.scoreExtraPoint(e,this.game.teamWithBall,this.epPoints),g.default.sendSoundTeamMessage(e,{message:`🙌 EXTRA POINT DO ${this.game.getTeamName(this.game.teamWithBall).toUpperCase()}!!! • +${this.epPoints} pontos para o ${this.game.getTeamName(this.game.teamWithBall)} • ${this.game.getScoreMessage()}`,color:n.Color.LimeGreen,style:"bold"})}handleMissedExtraPointBallWrongDirection(e){e.send({message:"🤖 Detectado Extra Point falho • Kickoff",color:n.Color.Yellow,style:"bold"}),this.game.mode=null,this.resetToKickoff(e,this.game.teamWithBall)}handleMissedExtraPointBallStopped(e){this.game.mode=null,e.send({message:"🥅 Errou Extra Point • Bola parou antes de chegar no gol",color:n.Color.Yellow,style:"bold"}),this.resetToKickoff(e,this.game.teamWithBall)}}t.ExtraPoint=f},571:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldGoal=void 0;const n=a(374),d=l(a(985)),c=r(a(641)),m=l(a(623)),u=l(a(361)),h=l(a(138)),g=l(a(711)),f=l(a(700)),p=l(a(558)),y=a(225);class T extends y.Tackleable{name="field goal";mode="fieldGoal";fgPoints=3;fgTimeLimit=15e3;playerLineLengthFieldGoalKickingTeam=100;playerLineLengthFieldGoalOtherTeam=100;maxPlayerBackDistanceFieldGoalOffense=1e3;maxPlayerBackDistanceFieldGoalDefense=900;maxTimeFGMoveBallPenalty=1e3;yardsBackOffense=20;yardsBackDefense=30;fgMaxDistanceMoveBall=8.5;maxDistanceYardsFG=57;playerLineLengthFG=100;kickerY=30;fgFailed=!1;disabledBallTouch=!1;fgKicker;constructor(e,t){super(t),e.on("playerBallKick",(t=>{if(this.game.mode===this.mode&&!this.fgFailed)if(this.game.fieldGoalTimeout.stop(),t.id===this.fgKicker.id)if(this.game.qbKickedBall)this.handleIllegalBallKick(e);else{this.game.qbKickedBall=!0,this.game.setBallUnmoveable(e),this.game.lockBall(e),this.game.setBallUnkickable(e);const a=e.getBall().getPosition();setTimeout((()=>{this.disabledBallTouch=!0,!this.fgFailed&&this.detectFailedFieldGoal(e,t,a)&&this.handleMissedFieldGoalBallWrongDirection(e)}),0)}else this.handleIllegalTouch(e,t)})),e.on("gameTick",(()=>{if(this.game.mode===this.mode&&!this.fgFailed){if(!this.disabledBallTouch){const t=this.getPlayerTouchingBall(e);if(t&&t.id!==this.fgKicker.id)return void this.handleIllegalTouch(e,t)}if(this.game.qbKickedBall)this.didBallPassedGoalLine(e)?this.handleSuccessfulFieldGoal(e):u.default.getBallSpeed(e.getBall())<.02&&this.handleMissedFieldGoalBallStopped(e);else{const t=this.getPlayerTouchingBall(e);if(t&&t.id!==this.fgKicker.id)return void this.handleIllegalTouch(e,t);null==this.game.ballMovedTimeFG&&this.didBallMove(e)&&(this.game.ballMovedTimeFG=Date.now());const a=this.getTackle(e,this.fgKicker);if(a.players.length>0&&this.handleTackle(e,a),this.didBallIlegallyMoveDuringFG(e))return void this.handleIllegalBallMove(e)}}}))}set({room:e,forTeam:t=this.game.teamWithBall,pos:a=this.game.ballPosition,kicker:s}){this.game.mode=null,this.game.reset(e),this.game.resetPlay(e),this.game.teamWithBall=t,this.game.ballPosition=a,this.game.downCount=0,this.game.distance=20,this.fgKicker=s,e.send({message:(0,p.default)("FG",this.game.getTeamName(t),f.default.getFormattedSeconds(this.fgTimeLimit/1e3)),color:c.Color.LightGreen,style:"bold"});const o=g.default.getCoordinateFromYards(a.team,a.yards),i=e.getBall();i.setVelocityX(0),i.setVelocityY(0),i.setPosition(o),this.game.unlockBall(e),this.game.setBallMoveable(e);const r=e.getPlayers().red(),l=e.getPlayers().blue();this.game.down.resetFirstDownLine(e),this.game.down.resetBallLine(e);let d=t===n.Team.Red?r:l,y=t===n.Team.Red?l:r,T=d.filter((e=>e.id!==s.id));this.game.teamWithBall=t;const b=t===n.Team.Blue?Math.max(-this.maxPlayerBackDistanceFieldGoalOffense,i.getX()-this.yardsBackOffense*m.default.Yard):Math.min(this.maxPlayerBackDistanceFieldGoalOffense,i.getX()+this.yardsBackOffense*m.default.Yard),v=t===n.Team.Blue?Math.max(-this.maxPlayerBackDistanceFieldGoalDefense,i.getX()-this.yardsBackDefense*m.default.Yard):Math.min(this.maxPlayerBackDistanceFieldGoalDefense,i.getX()+this.yardsBackDefense*m.default.Yard),k=u.default.getPointsAlongLine({x:0,y:this.playerLineLengthFG},{x:0,y:-this.playerLineLengthFG},T.length),P=u.default.getPointsAlongLine({x:0,y:this.playerLineLengthFG},{x:0,y:-this.playerLineLengthFG},y.length);for(let e=0;e<T.length;e++){const t=T[e];t.id!==s.id&&t.setPosition({x:b,y:k[e].y})}for(let e=0;e<y.length;e++)y[e].setPosition({x:v,y:P[e].y});s.setY(this.kickerY),this.game.mode=this.mode,this.game.fieldGoalTimeout=new h.default((()=>{e.send({message:(0,p.default)("TOOK_TOO_LONG_FG"),color:c.Color.Orange,style:"bold"}),this.game.down.set({room:e,forTeam:this.game.invertTeam(this.game.teamWithBall)})}),this.fgTimeLimit)}reset(){this.fgKicker=null,this.fgFailed=!1,this.disabledBallTouch=!1}fgCommand(e,t){return t.isGameInProgress()?e.caller.getTeam()===n.Team.Spectators?(e.caller.reply({message:(0,p.default)("NOT_ON_TEAM"),sound:2,color:c.Color.Tomato,style:"bold"}),!1):e.caller.getTeam()!==this.game.teamWithBall?(e.caller.reply({message:(0,p.default)("TEAM_WITHOUT_BALL"),sound:2,color:c.Color.Tomato,style:"bold"}),!1):this.game.mode!==this.game.down.waitingHikeMode||this.game.conversion?(e.caller.reply({message:(0,p.default)("CANNOT_FG_NOW"),sound:2,color:c.Color.Tomato,style:"bold"}),!1):g.default.getDifferenceBetweenFieldPositions(this.game.ballPosition,{team:this.game.invertTeam(this.game.teamWithBall),yards:0})>this.maxDistanceYardsFG?(e.caller.reply({message:(0,p.default)("CANNOT_FG_AT_THIS_DISTANCE"),sound:2,color:c.Color.Tomato,style:"bold"}),!1):e.caller.distanceTo(t.getBall())>50?(e.caller.reply({message:(0,p.default)("FAR_AWAY_FROM_BALL"),sound:2,color:c.Color.Tomato,style:"bold"}),!1):(t.send({message:(0,p.default)("SET_FG",e.caller.name),color:c.Color.Yellow,style:"bold"}),this.set({room:t,kicker:e.caller}),!1):(e.caller.reply({message:(0,p.default)("GAME_NOT_IN_PROGRESS"),sound:2,color:c.Color.Tomato,style:"bold"}),!1)}handleTackle(e,t){this.fgFailed=!0,this.fgKicker.setAvatar("❌"),setTimeout((e=>this.game.clearAvatar(e)),2e3,this.fgKicker),this.game.matchStats.add(this.fgKicker,{fieldGoalPerdidos:1}),t.players.forEach((e=>this.game.matchStats.add(e,{tackles:1,sacks:1}))),t.players.forEach((e=>{e.setAvatar("💪")}));const a=f.default.getFormattedSeconds(parseInt(((this.fgTimeLimit-this.game.fieldGoalTimeout.getRemainingTime())/1e3).toFixed(1)));f.default.sendSoundTeamMessage(e,{message:(0,p.default)("TACKLED_QB_FG",this.fgKicker.name,f.default.getPlayersNames(t.players),a),color:c.Color.LimeGreen,style:"bold"}),this.game.failedFielGoalTimeout=new h.default((()=>{this.game.down.set({room:e,forTeam:this.game.invertTeam(this.game.teamWithBall)})}),1e3)}getPlayerTouchingBall(e){for(const t of e.getPlayers().teams())if(t.id!==this.fgKicker?.id&&t.distanceTo(e.getBall())<.5)return t}scoreFieldGoal(e,t){this.game.mode=null,t===n.Team.Red?this.game.scoreRed+=this.fgPoints:this.game.scoreBlue+=this.fgPoints,this.game.kickOffReset=new h.default((()=>this.game.kickOff.set({room:e,forTeam:t})),3e3)}didBallMove(e){const t=g.default.getCoordinateFromYards(this.game.ballPosition.team,this.game.ballPosition.yards),a=e.getBall();return Math.abs(a.getX()-t.x)>.01||Math.abs(a.getY()-t.y)>.01}didBallIlegallyMoveDuringFG(e){const t=g.default.getCoordinateFromYards(this.game.ballPosition.team,this.game.ballPosition.yards),a=e.getBall();return a.distanceTo({...t,radius:a.getRadius()})>this.fgMaxDistanceMoveBall||null!=this.game.ballMovedTimeFG&&!this.game.qbKickedBall&&Date.now()>this.game.ballMovedTimeFG+this.maxTimeFGMoveBallPenalty}didBallPassedGoalLine(e){return g.default.isOutOfMap(e.getBall().getPosition())&&g.default.ballWithinGoalLine(e.getBall(),this.game.invertTeam(this.game.teamWithBall))}detectFailedFieldGoal(e,t,a){const s=u.default.getBallPathFromPosition(a,e.getBall().getPosition(),2e3),o=t.getTeam()===n.Team.Red?m.default.BlueGoalLine:m.default.RedGoalLine,i=u.default.getPointOfIntersection(s[0].x,s[0].y,s[1].x,s[1].y,o[0].x,1.1*o[0].y,o[1].x,1.1*o[1].y);if(!this.game.playerWithBall&&!1===i)return!0}handleIllegalBallMove(e){this.fgFailed=!0,this.game.matchStats.add(this.fgKicker,{fieldGoalPerdidos:1}),e.send({message:(0,p.default)("CARRIED_BALL_FG"),color:c.Color.Orange,style:"bold"}),this.game.down.set({room:e,forTeam:this.game.invertTeam(this.game.teamWithBall)})}handleIllegalBallKick(e){e.send({message:(0,p.default)("TOUCHED_BALL_FG_SAME_TEAM"),color:c.Color.Orange,style:"bold"}),this.game.down.set({room:e,forTeam:this.game.invertTeam(this.game.teamWithBall)})}handleIllegalTouch(e,t){this.fgFailed=!0,t.setAvatar("🤡"),setTimeout((e=>this.game.clearAvatar(e)),2e3,t),t.getTeam()!==this.game.teamWithBall?(this.scoreFieldGoal(e,this.game.teamWithBall),f.default.sendSoundTeamMessage(e,{message:(0,p.default)("TOUCHED_BALL_FG_DEFENSE",this.game.getTeamName(this.game.teamWithBall),this.fgPoints,this.game.getScoreMessage()),color:c.Color.LimeGreen,style:"bold"})):(f.default.sendSoundTeamMessage(e,{message:(0,p.default)("TOUCHED_BALL_FG_OFFENSE",t.name),color:c.Color.LimeGreen,style:"bold"}),this.game.failedFielGoalTimeout=new h.default((()=>{this.game.down.set({room:e,forTeam:this.game.invertTeam(this.game.teamWithBall)})}),2e3))}handleSuccessfulFieldGoal(e){const t=g.default.getDifferenceBetweenFieldPositions(this.game.ballPosition,{team:this.game.invertTeam(this.game.teamWithBall),yards:-m.default.YardsBetween0MarkAndGoalLine});this.scoreFieldGoal(e,this.game.teamWithBall),f.default.sendSoundTeamMessage(e,{message:`🙌 FIELD GOAL DO ${this.game.getTeamName(this.game.teamWithBall).toUpperCase()} A ${t} JARDAS DE DISTÂNCIA!!! • +${this.fgPoints} pontos para o ${this.game.getTeamName(this.game.teamWithBall)} • ${this.game.getScoreMessage()}`,color:c.Color.LimeGreen,style:"bold"}),this.game.matchStats.add(this.fgKicker,{fieldGoalJardas:t}),this.game.matchStats.add(this.fgKicker,{fieldGoalCompletos:1})}handleMissedFieldGoalBallWrongDirection(e){e.send({message:(0,p.default)("DETECTED_FAILED_FG"),color:c.Color.Yellow,style:"bold"}),this.game.matchStats.add(this.fgKicker,{fieldGoalPerdidos:1}),this.game.mode=null,this.game.failedFielGoalTimeout=new h.default((()=>{this.game.down.set({room:e,forTeam:this.game.invertTeam(this.game.teamWithBall)})}),2e3)}handleMissedFieldGoalBallStopped(e){this.game.matchStats.add(this.fgKicker,{fieldGoalPerdidos:1}),this.game.mode=null,e.send({message:(0,p.default)("FAILED_FG_BALL_STOPPED"),color:c.Color.Yellow,style:"bold"}),this.game.failedFielGoalTimeout=new h.default((()=>this.game.down.set({room:e,forTeam:this.game.invertTeam(this.game.teamWithBall)})),1e3)}}i([(0,d.default)({name:"fg"})],T.prototype,"fgCommand",null),t.FieldGoal=T},376:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=a(374),n=i(a(641)),d=r(a(623)),c=r(a(361)),m=r(a(138)),u=r(a(711)),h=r(a(700)),g=a(253);class f extends g.DownPlay{invasionPenalty=10;invasionTimeSeconds=3;nonInvasionStartTime=1e3;invasionLinesIndexes=[[9,10],[11,12],[13,14],[15,16],[17,18],[19,20],[21,22],[23,24],[25,26],[27,28],[29,30],[31,32]];invasionDiscsIndexes=[33,34,35,36];invasionHorizontalDistanceYards=10;invasionLinesTimeout;playerRadius=15;crowdingPlayers=[];constructor(e,t){super(t),e.on("gamePause",(t=>{t&&this.invasionLinesTimeout?.pause(),this.game.mode===this.game.down.mode&&this.game.invasionTimeout&&e.isGameInProgress()&&this.game.invasionTimeout?.pause()})),e.on("gameStartTicking",(t=>{this.invasionLinesTimeout?.resume(),this.game.mode===this.game.down.mode&&this.game.invasionTimeout&&e.isGameInProgress()&&this.game.invasionTimeout?.resume()}))}clear(){this.crowdingPlayers.length=0}handle(e){if(Date.now()<this.game.hikeTime+this.nonInvasionStartTime)return!1;const{defendersCrowding:t,attackersCrowding:a}=this.getPlayersInvadingMid(e);if(0===t.length||a.length>0)return this.clear(),!1;const s=t.map((e=>e.id)),o=[];if(this.crowdingPlayers=this.crowdingPlayers.map((e=>{if(s.includes(e[0]))return o.push(e[0]),e[1]++,e})).filter((e=>e)),s.forEach((e=>!o.includes(e)&&this.crowdingPlayers.push([e,1]))),this.crowdingPlayers.every((e=>e[1]<60*this.invasionTimeSeconds)))return!1;if(!t.every((t=>{for(const a of this.game.getTeamWithBall(e))if(t.distanceTo(a)<1)return!1;return!0})))return!1;this.game.invasionPlayers=t;let i=this.invasionPenalty;if(u.default.isInRedZone(this.game.ballPosition,this.game.invertTeam(this.game.teamWithBall))){if(this.game.redZonePenalties++,this.game.redZonePenalties>=this.game.down.maxPenaltiesInRedZone)return this.handleInvasionLines(e,(()=>{this.game.down.setRedZoneTouchdown(e,this.game.teamWithBall,this.game.invasionPlayers,`Invasão de ${h.default.getPlayersNames(this.game.invasionPlayers)}`)})),!0;i=this.game.getPenaltyValueInRedZone(this.invasionPenalty),e.send({message:`⛔ Invasão de ${h.default.getPlayersNames(this.game.invasionPlayers)} na Red Zone • ${this.game.redZonePenalties}/${this.game.down.maxPenaltiesInRedZone} para Touchdown Automático • ${i} jardas de penalidade`,color:n.Color.Orange,style:"bold"})}else e.send({message:`⛔ Invasão de ${h.default.getPlayersNames(this.game.invasionPlayers)} • ${i} jardas de penalidade`,color:n.Color.Orange,style:"bold"});return t.forEach((e=>{e.reply({message:"😡 Você não pode ficar no meio por mais que 3 segundos, a não ser que tenha jogadores do outro time também!",color:n.Color.Red,style:"bold",sound:2}),this.game.matchStats.add(e,{faltas:1})})),this.game.adjustGameTimeAfterDefensivePenalty(e),this.handleInvasionLines(e,(()=>{this.game.down.set({room:e,increment:i,countDown:!1})})),!0}handleInvasionLines(e,t){this.game.mode=null,this.setInvasionLines(e),this.invasionLinesTimeout=new m.default((()=>{for(const t of this.invasionLinesIndexes){const a=e.getDisc(t[0]),s=e.getDisc(t[1]);a.setPosition(s.getPosition())}for(let t=0;t<4;t++)e.getDisc(this.invasionDiscsIndexes[t]).setPosition({x:9999,y:9999});t(),this.invasionLinesTimeout=null}),1e3)}getPlayersInvadingMid(e){const t=this.getCrowdingPlayers(e),a=t.filter((e=>e.getTeam()!==this.game.teamWithBall)),s=t.filter((e=>e.getTeam()===this.game.teamWithBall));return{crowdingPlayers:t,defendersCrowding:a,attackersCrowding:s}}getCrowdingPlayers(e){const t=[];for(const a of e.getPlayers().teams()){if(this.game.quarterback.id===a.id)continue;const e=this.game.getBallStartPos(),s=d.default.HashesHeight.y1,o=d.default.HashesHeight.y2,i=e.x+this.invasionHorizontalDistanceYards*d.default.Yard*(this.game.teamWithBall===l.Team.Blue?-1:1),r=e.x+this.playerRadius*(this.game.teamWithBall===l.Team.Blue?1:-1),n=a.getX(),c=a.getY();(this.game.teamWithBall===l.Team.Blue&&n>Math.max(i,d.default.RedZoneRed[0].x)&&n<r&&c>s&&c<o||this.game.teamWithBall===l.Team.Red&&n<Math.min(i,d.default.RedZoneBlue[0].x)&&n>r&&c>s&&c<o)&&t.push(a)}return t}setInvasionLines(e){const t=this.game.getBallStartPos();let a;a=this.game.teamWithBall===l.Team.Blue?Math.max(d.default.RedZoneRed[0].x,t.x-this.invasionHorizontalDistanceYards*d.default.Yard):Math.min(d.default.RedZoneBlue[0].x,t.x+this.invasionHorizontalDistanceYards*d.default.Yard);const s=t.x+0*(this.game.teamWithBall===l.Team.Red?-1:1)*d.default.Yard,o=[...c.default.getPointsAlongLine({x:s,y:d.default.HashesHeight.y1},{x:a,y:d.default.HashesHeight.y1},6),...c.default.getPointsAlongLine({x:s,y:d.default.HashesHeight.y2},{x:a,y:d.default.HashesHeight.y2},6),...c.default.getPointsAlongLine({x:a,y:d.default.HashesHeight.y1},{x:a,y:d.default.HashesHeight.y2},6),...c.default.getPointsAlongLine({x:s,y:d.default.HashesHeight.y1},{x:s,y:d.default.HashesHeight.y2},6)];let i=0,r=0,n=[];e.getDisc(this.invasionDiscsIndexes[0]).setPosition({x:s,y:d.default.HashesHeight.y1}),e.getDisc(this.invasionDiscsIndexes[1]).setPosition({x:a,y:d.default.HashesHeight.y1}),e.getDisc(this.invasionDiscsIndexes[2]).setPosition({x:s,y:d.default.HashesHeight.y2}),e.getDisc(this.invasionDiscsIndexes[3]).setPosition({x:a,y:d.default.HashesHeight.y2});for(let t=0;t<o.length;t++){const a=this.invasionLinesIndexes[r][t%2==0?0:1],s=e.getDisc(a),l=o[t];s.setPosition({x:l.x,y:l.y}),n.push(s),1===i?(i=0,r++):i++}e.pause(),e.unpause()}}t.default=f},646:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Kick=void 0;const r=a(374),l=i(a(641)),n=a(787);class d extends n.LandPlay{puntPlayerInvadedOtherFieldDistancePenalty=80;puntPlayerInvadedOtherFieldSpeedPenalty=5;constructor(e,t){super(e,t),e.on("gameTick",(()=>{this.game.mode===this.mode&&this.handleBallReturn(e)})),e.on("playerBallKick",(t=>{this.game.mode===this.mode&&(this.game.playerReturnedBall(e,t),this.game.unblockTeams(e),this.game.qbKickedBall||(this.game.qbKickedBall=!0,this.handleDefenderFieldInvasionBeforeHike(e)))}))}handleBallReturn(e){if(!this.game.playerWithBall)for(const t of e.getPlayers().teams())if(t.distanceTo(e.getBall())<.5)return void this.game.playerReturnedBall(e,t)}handleDefenderFieldInvasionBeforeHike(e){for(const t of this.game.getTeamWithBall(e)){const a=e.getBall().getX(),s=t.getX();(this.game.teamWithBall===r.Team.Red?s>a:s<a)&&(t.setX(a+this.puntPlayerInvadedOtherFieldDistancePenalty*(t.getTeam()===r.Team.Red?-1:1)),(t.getY()>100||t.getY()<-100)&&t.setY(100),t.setVelocityX(this.puntPlayerInvadedOtherFieldSpeedPenalty*(this.game.teamWithBall===r.Team.Red?-1:1)),t.reply({message:`🚨 Você não pode ficar no campo adversário durante o ${this.name}!`,sound:2,color:l.Color.Red,style:"bold"}))}}}t.Kick=d},172:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KickOff=void 0;const l=i(a(641)),n=a(646),d=r(a(623)),c=r(a(361)),m=r(a(711)),u=r(a(138)),h=r(a(700));class g extends n.Kick{mode="kickOff";name="kick off";playerLineLengthKickoff=200;kickoffSecondsToAddExtra=10;kickoffTimePenalty=10;kickoffTimer;kickoffPenaltyStartedAt;isBallToBeKicked=!1;constructor(e,t){super(e,t),e.on("playerTeamChanged",((t,a)=>{this.game.mode===this.mode&&(this.game.qbKickedBall||(this.game.blockTeam(e,this.game.invertTeam(this.game.teamWithBall)),this.game.blockMiddleKickoff(e,this.game.teamWithBall)))})),e.on("playerBallKick",(t=>{if(this.game.mode===this.mode){if(this.kickoffPenaltyStartedAt){const t=Date.now()-this.kickoffPenaltyStartedAt;this.game.addToStoppage(t),e.send({message:`​⏰​ Foram adicionados ${h.default.getFormattedSeconds(parseInt((t/1e3+10).toFixed(2)))} de acréscimos devido à demora em chutar o kickoff`,color:l.Color.Yellow,style:"bold"})}this.isBallToBeKicked=!1,this.kickoffPenaltyStartedAt=0,this.resetStallCounter()}})),e.on("gamePause",(()=>{this.kickoffTimer?.pause()})),e.on("gameUnpause",(()=>{this.kickoffTimer?.resume()}))}set({room:e,forTeam:t=this.game.teamWithBall,pos:a}){this.game.mode=null,this.game.reset(e),this.game.resetPlay(e),a?this.game.ballPosition=a:(this.game.ballPosition={team:t,yards:50},a=this.game.ballPosition),this.game.teamWithBall=t,this.game.downCount=0,this.game.distance=20,this.isBallToBeKicked=!0,!this.game.firstKickoff&&this.game.endGameTime>0&&e.getScores().time>1&&(this.kickoffTimer=new u.default((()=>{this.kickoffPenaltyStartedAt=Date.now(),this.game.addToStoppage(1e4)}),1e3*this.kickoffSecondsToAddExtra)),e.send({message:`​🤾‍♂️​ Kickoff para o ${this.game.getTeamName(t)}`,color:l.Color.Yellow,style:"bold"});const s=m.default.getCoordinateFromYards(a.team,a.yards),o=e.getBall();o.setVelocityX(0),o.setVelocityY(0),o.setPosition(s),this.game.setBallKickForce(e,1.2),this.game.down.resetFirstDownLine(e),this.game.down.resetBallLine(e);let i=e.getPlayers().red(),r=e.getPlayers().blue();for(let t=0;t<i.length;t++){const a=c.default.getPointsAlongLine({x:0,y:this.playerLineLengthKickoff},{x:0,y:-this.playerLineLengthKickoff},i.length);i[t].setPosition({x:0===e.getScores().time?d.default.PuntRedPositionX:d.default.RedZoneRed[0].x,y:a[t].y})}for(let t=0;t<r.length;t++){const a=c.default.getPointsAlongLine({x:0,y:this.playerLineLengthKickoff},{x:0,y:-this.playerLineLengthKickoff},r.length);r[t].setPosition({x:0===e.getScores().time?d.default.PuntBluePositionX:d.default.RedZoneBlue[0].x,y:a[t].y})}this.game.blockTeam(e,this.game.invertTeam(t)),this.game.blockMiddleKickoff(e,t),this.game.mode=this.mode}resetStallCounter(){this.kickoffPenaltyStartedAt=null,this.kickoffTimer?.stop(),this.kickoffTimer=null}reset(){this.resetStallCounter(),this.isBallToBeKicked=!1,this.game.firstKickoff=!1}}t.KickOff=g},787:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LandPlay=void 0;const l=a(374),n=i(a(641)),d=r(a(623)),c=r(a(138)),m=r(a(711)),u=r(a(700)),h=a(225);class g extends h.Tackleable{touchesToTackleRunner=5;touchesToTackleQBRunner=3;safetyPoints=2;touchdownPoints=6;ballLineDiscsIndex=[7,8];clownEmojiTime=15e3;wasPlayerWithBallOutsideOfRedZone=!1;constructor(e,t){super(t),e.on("gameTick",(()=>{if(this.game.mode===this.mode){if(this.game.playerWithBall)if(!1!==this.wasPlayerWithBallOutsideOfRedZone&&this.wasPlayerWithBallOutsideOfRedZone!==this.game.playerWithBall.id&&(this.wasPlayerWithBallOutsideOfRedZone=!1),m.default.isInRedZone(m.default.getYardsFromXCoord(this.game.playerWithBall.getX()),this.game.playerWithBall.getTeam())||(this.wasPlayerWithBallOutsideOfRedZone=this.game.playerWithBall.id),m.default.isOutOfMap(this.game.playerWithBall.getPosition()))this.handlePlayerWithBallOutsideField(e);else{if(this.hasPlayerPassedEndZoneLine(this.game.playerWithBall,this.game.invertTeam(this.game.playerWithBall.getTeam())))return void this.handleTouchdown(e);this.game.interceptPlayer&&this.handleInterceptPlayerLeftEndZone(this.game.interceptPlayer);const t=this.getTackle(e);t.players.length>0&&this.handleTackle(e,t)}if(!this.game.playerWithBall||this.game.down.sack&&!this.game.down.sackBallTouched){const t=e.getBall().getPosition();m.default.isOutOfMap(t)&&this.game.qbKickedBall&&this.handleFailedPass(e)}}}))}setBallLine(e,t=this.game.ballPosition){const a=m.default.getCoordinateFromYards(t.team,t.yards).x,s=e.getDisc(this.ballLineDiscsIndex[0]),o=e.getDisc(this.ballLineDiscsIndex[1]);s&&o&&(s.setPosition({x:a,y:d.default.OuterField[0].y}),o.setPosition({x:a,y:d.default.OuterField[1].y}))}resetBallLine(e){const t=e.getDisc(this.ballLineDiscsIndex[0]),a=e.getDisc(this.ballLineDiscsIndex[1]);t&&a&&(t.setPosition({x:0,y:0}),a.setPosition({x:0,y:0}))}setTouchdown(e,t,a=!1){if(this.game.mode=null,!a&&this.game.playerWithBall){if(this.game.playerWithBallFinalPosition=this.game.playerWithBall.getPosition(),!this.game.conversion)switch(this.game.playerWithBallState){case"receiver":this.game.matchStats.add(this.game.quarterback,{passesPraTouchdown:1}),this.game.matchStats.add(this.game.playerWithBall,{touchdownRecebidos:1});break;case"runner":case"qbRunner":case"qbRunnerSacking":this.game.matchStats.add(this.game.playerWithBall,{touchdownCorridos:1});break;case"puntReturner":case"kickoffReturner":this.game.matchStats.add(this.game.playerWithBall,{touchdownRetornados:1});break;case"intercepter":this.game.matchStats.add(this.game.playerWithBall,{pickSix:1})}this.game.setPlayerWithBallStats()}if(this.game.conversion){let a=this.game.intercept?this.game.extraPoint.intConversionPoints:this.game.extraPoint.conversionPoints;this.game.kickOffReset=new c.default((()=>this.game.kickOff.set({room:e,forTeam:this.game.intercept?this.game.invertTeam(t):t})),2e3),this.game.conversion=!1,t===l.Team.Red?this.game.scoreRed+=a:this.game.scoreBlue+=a}else this.game.touchdownExtraPointTimeout=new c.default((()=>this.game.extraPoint.set({room:e,forTeam:t})),2e3),t===l.Team.Red?this.game.scoreRed+=this.touchdownPoints:this.game.scoreBlue+=this.touchdownPoints}setRedZoneTouchdown(e,t,a,s){const o=this.game.conversion;this.setTouchdown(e,t,!0),o?u.default.sendSoundTeamMessage(e,{message:`🙌 CONVERSÃO AUTOMÁTICA!!! • ${s} • ${this.game.getScoreMessage()}`,color:n.Color.LimeGreen,style:"bold"}):u.default.sendSoundTeamMessage(e,{message:`🙌 TOUCHDOWN AUTOMÁTICO!!! • ${s} • ${this.game.getScoreMessage()}`,color:n.Color.LimeGreen,style:"bold"});for(const e of a)e.setAvatar("🤡"),setTimeout((e=>this.game.clearAvatar(e)),this.clownEmojiTime,e)}hasPlayerPassedEndZoneLine(e,t){return t===l.Team.Red&&e.getX()-e.getRadius()<=d.default.RedEndZoneStartPositionX||t===l.Team.Blue&&e.getX()+e.getRadius()>=d.default.BlueEndZoneStartPositionX}handleInterceptPlayerLeftEndZone(e){this.game.interceptPlayerLeftEndZone||this.hasPlayerPassedEndZoneLine(e,e.getTeam())||(this.game.interceptPlayerLeftEndZone=!0)}handleFailedPass(e){if(this.game.mode!==this.game.down.mode){let t,a,s,o;const i=e.getBall().getPosition();if(this.mode===this.game.safety.mode)t=this.game.safety.safetyYardLine,s=this.game.invertTeam(this.game.teamWithBall),a=this.game.teamWithBall;else if(this.mode===this.game.punt.mode){if(i.x>d.default.EndZoneBlue[1].x||i.x<d.default.EndZoneRed[1].x)return void this.setTouchback(e,this.game.invertTeam(this.game.teamWithBall),"Punt chutado para a end zone");s=this.game.invertTeam(this.game.teamWithBall);const r=m.default.getYardsFromXCoord(e.getBall().getX());t=r.yards,a=r.team,o="Bola colocada na linha em que saiu"}else t=40,s=this.game.invertTeam(this.game.teamWithBall),a=s;return e.send({message:`❌ ${this.name[0].toLocaleUpperCase()+this.name.slice(1)} chutado para fora de campo •`+(o??`Bola na linha de ${t} jardas`),color:n.Color.Orange,style:"bold"}),void this.game.down.set({room:e,pos:{team:a,yards:t},forTeam:s,countDistanceFromNewPos:!1})}{const t=m.default.ballWithinGoalLine(e.getBall(),this.game.interceptAttemptPlayer?.getTeam())||m.default.ballWithinGoalLine(e.getBall(),this.game.invertTeam(this.game.interceptAttemptPlayer?.getTeam()));if((this.game.interceptAttemptPlayer||this.game.intercept)&&t)return e.send({message:`🏈 INTERCEPTAÇÃO de ${this.game.interceptAttemptPlayer.name}!!! • Bola para o ${this.game.getTeamName(this.game.interceptAttemptPlayer.getTeam())}`,color:65535,style:"bold"}),this.game.down.sack&&(this.game.down.qbPassedInSack(),this.game.down.sackBallTouched=!0),this.game.matchStats.add(this.game.quarterback,{interceptacoesLancadas:1}),this.game.matchStats.add(this.game.interceptAttemptPlayer,{interceptacoes:1}),this.handleInterceptPlayerLeftEndZone(this.game.interceptAttemptPlayer),this.game.intercept=!0,this.game.setPlayerWithBall(e,this.game.interceptAttemptPlayer,"intercepter",!0),this.game.interceptPlayer=this.game.interceptAttemptPlayer,this.game.interceptAttemptPlayer=null,this.game.downCount=0,this.game.distance=20,void(this.game.teamWithBall=this.game.invertTeam(this.game.teamWithBall));if(this.game.down.sack||this.game.down.sackBallTouched)return;return this.game.interceptAttemptPlayer?e.send({message:`❌ Interceptação falhou • ${this.game.interceptAttemptPlayer.name} errou o gol`,color:n.Color.Orange,style:"bold"}):e.send({message:"❌ Passe incompleto • Bola fora de campo",color:n.Color.Orange,style:"bold"}),void(this.game.conversion?this.game.resetToKickoff(e):this.game.down.set({room:e}))}}setSafety(e,t,a,s){t.getTeam()===l.Team.Red?this.game.scoreBlue+=this.safetyPoints:this.game.scoreRed+=this.safetyPoints,this.game.playerWithBallFinalPosition=t.getPosition(),this.game.setPlayerWithBallStats(),null==a?(u.default.sendSoundTeamMessage(e,{message:`❌ ${t.name} saiu de campo dentro da End Zone • Safety • ${this.safetyPoints} pontos para o ${this.game.getTeamName(this.game.invertTeam(t.getTeam()))} • ${this.game.getScoreMessage()}`,color:n.Color.LimeGreen,style:"bold"}),this.game.matchStats.add(t,{faltas:1}),this.game.safety.set({room:e,forTeam:t.getTeam()})):this.game.conversion?(u.default.sendSoundTeamMessage(e,{message:`💪 ${t.name} derrubado por ${u.default.getPlayersNames(a)} • Conversão falhou`,color:n.Color.LimeGreen,style:"bold"}),this.game.resetToKickoff(e)):(u.default.sendSoundTeamMessage(e,{message:`💪 ${t.name} derrubado por ${u.default.getPlayersNames(a)} • Dentro da End Zone • ${s?`${s} • `:""}Safety • ${this.safetyPoints} pontos para o ${this.game.getTeamName(this.game.invertTeam(t.getTeam()))} • ${this.game.getScoreMessage()}`,color:n.Color.LimeGreen,style:"bold"}),this.game.matchStats.add(t,{faltas:1}),this.game.safety.set({room:e,forTeam:t.getTeam()})),this.game.clearAvatar(t)}setTouchback(e,t,a,s){e.send({message:`🔙 ${a} • Touchback • ${this.game.conversion?"Conversão falhou":"Bola na linha de 25"}`,color:n.Color.Yellow,style:"bold"}),this.game.playerWithBallFinalPosition=this.game.playerWithBall?.getPosition(),this.game.playerWithBall&&this.game.setPlayerWithBallStats(),this.game.conversion?this.game.resetToKickoff(e):this.game.down.set({room:e,pos:{team:t,yards:25},forTeam:t,countDistanceFromNewPos:!1}),s&&this.game.clearAvatar(s)}handleTackle(e,t){1===t.tackleCount&&this.game.running?setTimeout((()=>{this.game.playerWithBall&&e.send({message:`💪 ${u.default.getPlayersNames(t.players)} ${t.players.length>1?"tentaram":"tentou"} derrubar ${this.game.playerWithBall.name} mas ele continua!`,color:n.Color.Yellow,style:"bold"})}),100):(t.tackleCount>=this.touchesToTackleRunner||this.game.playerWithBall.id===this.game.quarterback?.id&&t.tackleCount>=this.touchesToTackleQBRunner||!this.game.running)&&(this.hasPlayerPassedEndZoneLine(this.game.playerWithBall,this.game.playerWithBall.getTeam())&&!this.game.conversion?this.game.intercept?(t.players.forEach((e=>this.game.matchStats.add(e,{tackles:1}))),this.game.interceptPlayerLeftEndZone?(this.game.playerWithBallFinalPosition=this.game.playerWithBall.getPosition(),this.setSafety(e,this.game.playerWithBall,t.players,"Voltou para a End Zone durante a interceptação")):(this.game.playerWithBallFinalPosition=this.game.playerWithBall.getPosition(),this.setTouchback(e,this.game.playerWithBall.getTeam(),"Interceptador derrubado na End Zone",this.game.playerWithBall))):this.setSafety(e,this.game.playerWithBall,t.players):(this.game.clearAvatar(this.game.playerWithBall),t.players.forEach((e=>e.setAvatar("💪"))),setTimeout((()=>t.players.forEach((e=>this.game.clearAvatar(e)))),3e3),this.game.down.sack&&this.game.quarterback&&this.game.isPlayerBehindLineOfScrimmage(this.game.quarterback)?(e.send({message:`💪 ${this.game.playerWithBall.name} foi sackado por ${u.default.getPlayersNames(t.players)}`,color:n.Color.Yellow,style:"bold"}),t.players.forEach((e=>this.game.matchStats.add(e,{sacks:1}))),this.game.matchStats.add(this.game.quarterback,{sacksRecebidos:1}),this.game.playerWithBallState="sack"):e.send({message:`💪 ${this.game.playerWithBall.name} foi derrubado por ${u.default.getPlayersNames(t.players)}`,color:n.Color.Yellow,style:"bold"}),this.game.playerWithBallFinalPosition=this.game.playerWithBall.getPosition(),t.players.forEach((e=>this.game.matchStats.add(e,{tackles:1}))),this.game.setPlayerWithBallStats(),this.game.conversion?this.game.resetToKickoff(e):this.game.down.set({room:e,pos:m.default.getYardsFromXCoord(this.game.playerWithBall.getX()),forTeam:this.game.playerWithBall.getTeam(),countDistanceFromNewPos:this.game.mode===this.game.down.mode&&!this.game.intercept})))}handleTouchdown(e){this.game.mode=null;const t=this.game.getTeamName(this.game.playerWithBall.getTeam()),a=this.game.conversion;this.setTouchdown(e,this.game.playerWithBall.getTeam()),a?u.default.sendSoundTeamMessage(e,{message:`🙌 ${this.game.intercept?"RETORNO DE INTERCEPTAÇÃO":"CONVERSÃO"} de ${this.game.playerWithBall.name}!!! • +${this.game.extraPoint.conversionPoints} pontos para o ${t} • ${this.game.getScoreMessage()}`,color:n.Color.LimeGreen,style:"bold"}):u.default.sendSoundTeamMessage(e,{message:`🙌 ${this.game.intercept?"PICK SIX":"TOUCHDOWN"} de ${this.game.playerWithBall.name}!!! • +${this.touchdownPoints} pontos para o ${t} • ${this.game.getScoreMessage()}`,color:n.Color.LimeGreen,style:"bold"}),this.game.playerWithBall.setAvatar("🔥"),setTimeout((e=>this.game.clearAvatar(e)),5e3,this.game.playerWithBall)}handlePlayerWithBallOutsideField(e){this.game.clearAvatar(this.game.playerWithBall);const t=this.game.playerWithBall.getPosition();t.x>Math.abs(d.default.EndZoneRed[1].x)||t.x<-Math.abs(d.default.EndZoneBlue[1].x)||t.x>Math.abs(d.default.RedZoneRed[1].x)&&t.x<-Math.abs(d.default.RedZoneBlue[1].x)&&(t.y<-Math.abs(d.default.EndZoneBlue[1].y)||t.y>Math.abs(d.default.EndZoneBlue[1].y))&&this.mode!==this.game.down.mode?this.setSafety(e,this.game.playerWithBall):(e.send({message:`❌ ${this.game.playerWithBall.name} pisou fora de campo`,color:n.Color.Orange,style:"bold"}),this.game.playerWithBallFinalPosition=this.game.playerWithBall.getPosition(),this.game.setPlayerWithBallStats(),this.game.conversion?this.game.resetToKickoff(e):this.game.down.set({room:e,pos:m.default.getYardsFromXCoord(this.game.playerWithBall.getX()),forTeam:this.game.playerWithBall.getTeam(),countDistanceFromNewPos:this.game.mode===this.game.down.mode&&!this.game.intercept}))}}t.LandPlay=g},421:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Mode=void 0;const o=s(a(593));class i extends o.default{game;constructor(e){super(),this.game=e}}t.Mode=i},915:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,a,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Punt=void 0;const n=a(374),d=l(a(985)),c=r(a(641)),m=a(646),u=l(a(623)),h=l(a(361)),g=l(a(711));class f extends m.Kick{name="punt";mode="punt";playerLineLengthPuntPuntingTeam=100;playerLineLengthPuntReceivingTeam=200;playerBackDistancePunt=100;constructor(e,t){super(e,t)}set({room:e,forTeam:t=this.game.teamWithBall,pos:a=this.game.ballPosition}){this.game.mode=null,this.game.reset(e),this.game.resetPlay(e),this.game.teamWithBall=t,this.game.ballPosition=a,this.game.downCount=0,this.game.distance=20,e.send({message:`🤾 Punt para o ${this.game.getTeamName(t)}`,color:c.Color.LightGreen,style:"bold"});const s=g.default.getCoordinateFromYards(a.team,a.yards),o=e.getBall();o.setVelocityX(0),o.setVelocityY(0),o.setPosition(s),this.game.setBallKickForce(e,1.2);let i=e.getPlayers().red(),r=e.getPlayers().blue(),l=t===n.Team.Red?i:r,d=t===n.Team.Red?r:i;this.game.teamWithBall=t,(e=>{const a=h.default.getPointsAlongLine({x:0,y:this.playerLineLengthPuntPuntingTeam},{x:0,y:-this.playerLineLengthPuntPuntingTeam},e.length);for(let o=0;o<e.length;o++)e[o].setPosition({x:s.x+(t===n.Team.Red?-this.playerBackDistancePunt:this.playerBackDistancePunt),y:a[o].y})})(l),(e=>{const a=h.default.getPointsAlongLine({x:0,y:this.playerLineLengthPuntReceivingTeam},{x:0,y:-this.playerLineLengthPuntReceivingTeam},e.length);let s=t===n.Team.Red?u.default.PuntBluePositionX:u.default.PuntRedPositionX;for(let t=0;t<e.length;t++)e[t].setPosition({x:s,y:a[t].y})})(d),this.setBallLine(e),this.game.down.resetFirstDownLine(e),this.game.blockTeam(e,this.game.invertTeam(t)),this.game.mode=this.mode}reset(){}puntCommand(e,t){return t.isGameInProgress()?e.caller.getTeam()===n.Team.Spectators?(e.caller.reply({message:"⚠️ Você não está em nenhum time!",sound:2,color:c.Color.Tomato,style:"bold"}),!1):e.caller.getTeam()!==this.game.teamWithBall?(e.caller.reply({message:"⚠️ Seu time não está com a posse da bola!",sound:2,color:c.Color.Tomato,style:"bold"}),!1):this.game.mode!==this.game.down.waitingHikeMode?(e.caller.reply({message:"⚠️ Você não pode pedir punt agora!",sound:2,color:c.Color.Tomato,style:"bold"}),!1):e.caller.distanceTo(t.getBall())>50?(e.caller.reply({message:"⚠️ Você está longe demais da bola!",sound:2,color:c.Color.Tomato,style:"bold"}),!1):(t.send({message:`🦵 ${e.caller.name} solicitou PUNT!`,color:c.Color.Yellow,style:"bold"}),this.set({room:t}),!1):(e.caller.reply({message:"⚠️ Não há um jogo em progresso!",sound:2,color:c.Color.Tomato,style:"bold"}),!1)}}i([(0,d.default)({name:"punt"})],f.prototype,"puntCommand",null),t.Punt=f},311:function(e,t,a){var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,o)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Safety=void 0;const l=a(374),n=i(a(641)),d=a(646),c=r(a(623)),m=r(a(361)),u=r(a(711));class h extends d.Kick{name="safety";mode="safety";playerLineLengthSafetyTeam=100;playerLineLengthReceivingTeam=200;playerBackDistanceSafety=100;safetyYardLine=20;constructor(e,t){super(e,t)}set({room:e,forTeam:t=this.game.teamWithBall}){this.game.mode=null,this.game.reset(e),this.game.resetPlay(e),this.game.teamWithBall=t,this.game.ballPosition={team:this.game.teamWithBall,yards:this.safetyYardLine},this.game.downCount=0,this.game.distance=20,e.send({message:`🤾 Safety para o ${this.game.getTeamName(t)}`,color:n.Color.LightGreen,style:"bold"});const a=u.default.getCoordinateFromYards(t,this.safetyYardLine),s=e.getBall();s.setVelocityX(0),s.setVelocityY(0),s.setPosition(a);let o=e.getPlayers().red(),i=e.getPlayers().blue(),r=t===l.Team.Red?o:i,d=t===l.Team.Red?i:o;this.game.teamWithBall=t,(e=>{const s=m.default.getPointsAlongLine({x:0,y:this.playerLineLengthSafetyTeam},{x:0,y:-this.playerLineLengthSafetyTeam},e.length);for(let o=0;o<e.length;o++)e[o].setPosition({x:a.x+(t===l.Team.Red?-this.playerBackDistanceSafety:this.playerBackDistanceSafety),y:s[o].y})})(r),(e=>{const a=m.default.getPointsAlongLine({x:0,y:this.playerLineLengthReceivingTeam},{x:0,y:-this.playerLineLengthReceivingTeam},e.length);let s=t===l.Team.Red?c.default.PuntBluePositionX:c.default.PuntRedPositionX;for(let t=0;t<e.length;t++)e[t].setPosition({x:s,y:a[t].y})})(d),this.setBallLine(e),this.game.down.resetFirstDownLine(e),this.game.blockTeam(e,this.game.invertTeam(t)),this.game.mode=this.mode}reset(){}}t.Safety=h},225:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tackleable=void 0;const s=a(374),o=a(421);class i extends o.Mode{constructor(e){super(e)}getTackle(e,t=this.game.playerWithBall){const a=t.getTeam()===s.Team.Red?e.getPlayers().blue():e.getPlayers().red(),o={tackleCount:t.id===this.game.playerWithBall?.id?this.game.playerWithBallTackleCount:0,players:[]};for(const e of a)t.distanceTo(e)<.5&&(o.players.push(e),t.id===this.game.playerWithBall?.id?o.tackleCount=++this.game.playerWithBallTackleCount:o.tackleCount++);return o}}t.Tackleable=i},623:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={EndZoneRed:[{x:-930,y:-266},{x:-775,y:266}],EndZoneBlue:[{x:930,y:-266},{x:775,y:266}],RedZoneRed:[{x:-775,y:-266},{x:-462,y:266}],RedZoneBlue:[{x:775,y:266},{x:462,y:-266}],InnerField:[{x:-775,y:-266},{x:775,y:266}],OuterField:[{x:-930,y:-266},{x:930,y:266}],RedGoalLine:[{x:-930,y:-60},{x:-930,y:60}],BlueGoalLine:[{x:930,y:-60},{x:930,y:60}],HashesHeight:{y1:-70,y2:70},RedEndZoneStartPositionX:-775,BlueEndZoneStartPositionX:775,RedEndZoneLineCenter:{x:-775,y:0},BlueEndZoneLineCenter:{x:775,y:0},PuntRedPositionX:-980,PuntBluePositionX:980,Yard:15.5,HashSubdivision:31,YardsBetween0MarkAndGoalLine:10}},361:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static getBallSpeed(e){return Math.sqrt(e.getVelocityX()*e.getVelocityX()+e.getVelocityY()*e.getVelocityY())}static getBallPathFromPosition(e,t,a){let s,o=Math.atan2(t.y-e.y,t.x-e.x)>0?1:-1,i=Math.atan2(t.x-e.x,t.y-e.y)>0?1:-1;o>0&&i>0||o<0&&i>0?s=1:(o>0&&i<0||o<0&&i<0)&&(s=-1);let r=(t.y-e.y)/(t.x-e.x),l=Math.sqrt(1+r*r);return[{x:t.x+a/l*s,y:t.y+r*(a/(l*s))},t]}static getDistanceBetweenPoints(e,t){const a=e.x-t.x,s=e.y-t.y;return Math.sqrt(a*a+s*s)}static getPointOfIntersection(e,t,a,s,o,i,r,l){if(e===a&&t===s||o===r&&i===l)return!1;let n=(l-i)*(a-e)-(r-o)*(s-t);if(0===n)return!1;let d=((r-o)*(t-i)-(l-i)*(e-o))/n,c=((a-e)*(t-i)-(s-t)*(e-o))/n;return!(d<0||d>1||c<0||c>1)&&{x:e+d*(a-e),y:t+d*(s-t)}}static getPointsAlongLine(e,t,a,s=!0){a++;let o=(t.x-e.x)/a,i=(t.y-e.y)/a,r=[];for(let t=1;t<a;t++){let a=e.x+o*t,l=e.y+i*t;s&&0==l&&(l=10*Math.random()-5),r.push({x:a,y:l})}return r}static pointCircleCollide(e,t,a){if(0===a)return!1;let s=t[0]-e[0],o=t[1]-e[1];return s*s+o*o<=a*a}static lineCircleCollide(e,t,a,s,o){if(this.pointCircleCollide(e,a,s))return o&&(o[0]=e[0],o[1]=e[1]),!0;if(this.pointCircleCollide(t,a,s))return o&&(o[0]=t[0],o[1]=t[1]),!0;let i=e[0],r=e[1],l=t[0],n=t[1],d=a[0],c=a[1],m=l-i,u=n-r,h=m*m+u*u,g=m,f=u;if(h>0){let e=((d-i)*m+(c-r)*u)/h;g*=e,f*=e}o||(o=[0,0]),o[0]=i+g,o[1]=r+f;let p=g*g+f*f;return this.pointCircleCollide(o,a,s)&&p<=h&&g*m+f*u>=0}}},711:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(374),i=s(a(623)),r=s(a(361));t.default=class{static addYardsToFieldPosition(e,t,a,s=!1){const i={...e};return a===o.Team.Blue?i.yards+=i.team===o.Team.Red?-t:t:i.yards+=i.team===o.Team.Red?t:-t,i.yards>50&&(i.team=i.team===o.Team.Red?o.Team.Blue:o.Team.Red,i.yards=50-(i.yards-50)),!s&&i.yards<1&&(i.yards=1),i}static getCoordinateFromYards(e,t){const{team:a,yards:s}="object"==typeof e?e:{team:e,yards:t};return a===o.Team.Red?{x:i.default.RedEndZoneLineCenter.x+s*i.default.Yard,y:0}:{x:i.default.BlueEndZoneLineCenter.x-s*i.default.Yard,y:0}}static getYardDifferenceBetweenPositions(e,t,a){let s=Math.abs(e.x-t.x);return a===o.Team.Red&&e.x>t.x&&(s=-s),Math.round(s/i.default.Yard)}static getDifferenceBetweenFieldPositions(e,t,a){let s,i;s=e.team===o.Team.Blue?50-e.yards+50:e.yards,i=t.team===o.Team.Blue?50-t.yards+50:t.yards;const r=Math.abs(s-i);return a?a===o.Team.Red?s>i?r:-r:s<i?r:-r:r}static isOutOfMap(e,t=0){return e.y<-Math.abs(i.default.OuterField[0].y)-t||e.y>Math.abs(i.default.OuterField[0].y)+t||e.x<-Math.abs(i.default.OuterField[0].x)-t||e.x>Math.abs(i.default.OuterField[0].x)+t}static isInRedZone(e,t){const a=this.getCoordinateFromYards(e.team,e.yards);let s;return t===o.Team.Red?(s=i.default.RedZoneRed,a.x>=s[0].x&&a.x<=s[1].x&&a.y>=s[0].y&&a.y<=s[1].y):(s=i.default.RedZoneBlue,a.x<=s[0].x&&a.x>=s[1].x&&a.y<=s[0].y&&a.y>=s[1].y)}static getYardsFromXCoord(e){let t=[],a=1;for(let e=i.default.RedEndZoneLineCenter.x+i.default.Yard;a<100;e+=i.default.Yard)t.push({yard:a++,xPos:e});let s=t.find((a=>{return a.xPos===(s=t.map((e=>e.xPos)),o=e,s.reduce(((e,t)=>Math.abs(t-o)<Math.abs(e-o)?t:e)));var s,o}));return s.yard<=50?{team:o.Team.Red,yards:s.yard}:{team:o.Team.Blue,yards:50-(s.yard-50)}}static ballWithinGoalLine(e,t){let a;a=t===o.Team.Red?i.default.RedGoalLine:i.default.BlueGoalLine;const s=[a[0].x,a[0].y],l=[a[1].x,a[1].y];return r.default.lineCircleCollide(s,l,[e.getX(),e.getY()],e.getRadius())}}},138:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{callback;timerId;start;remaining;finishTime;args;paused=!1;constructor(e,t,...a){this.callback=e,this.remaining=t,this.args=a,this.finishTime=t,this.resume()}resume(){this.paused=!1,this.start=Date.now(),this.finishTime=this.start+this.remaining,clearTimeout(this.timerId),this.timerId=window.setTimeout(this.callback,this.remaining,...this.args)}pause(){this.paused||(this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start)}stop(){this.paused=!1,window.clearTimeout(this.timerId)}getRemainingTime(){return Math.max(0,this.paused?this.remaining:this.finishTime-Date.now())}}},558:function(e,t,a){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(a(939));t.default=function(e,...t){let a=o.default[e];if(!a)return`⚠️ Erro: "${a}" não encontrado`;let s=(a.match(/\%s/g)||[]).length;for(let e=0;e<s;e++){const s=t[e];a=a.replace("%s",s??"")}return a}},700:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=a(374);t.default=class{static getFormattedSeconds(e){return e<60?`${e} segundo${e>1||e<-1?"s":""}`:e>=60&&e<3600?`${~~(e/60)} minuto${e>=120?"s":""}`:e>=3600?`${~~(e/60/60)} hora${e>=7200?"s":""}`:e+""}static fancyTimeFormat(e){let t=~~(e/3600),a=~~(e%3600/60),s=~~e%60,o="";return t>0&&(o+=t+":"+(a<10?"0":"")),o+=a+":"+(s<10?"0":""),o+=""+s,o}static getPlayersNames(e){let t=e.map((e=>`${e.name}`));return e.length>1?`${t.slice(0,-1).join(", ")} e ${t.slice(-1)}`:t[0]}static sendSoundTeamMessage(e,t){e.getPlayers().forEach((e=>{e.getTeam()!==s.Team.Spectators?e.reply({...t,sound:2}):e.reply({...t})}))}}},939:e=>{e.exports=JSON.parse('{"GAME_WIN":"🎉 Vitória do %s! Red %s • %s Blue","OVERTIME":"🕒 Overtime! O primeiro time a pontuar vence","LAST_PLAY":"🕒 Última jogada! Jogo acabará em instantes caso não ocorra uma falta defensiva","CANNOT_CHANGE_MAP":"⚠️ Você não pode alterar o mapa!","END_GAME_TIME_ADJUSTED_AFTER_PENALTY":"🕒 Tempo de término da partida ajustado para %s após falta defensiva","RETURNED_PUNT":"🏈 Punt retornado por %s","RETURNED_KICKOFF":"🏈 Kickoff retornado por %s","ILLEGAL_TOUCH_SAME_TEAM":"❌ Toque ilegal de %s • Bola pega pelo mesmo time que a chutou","RECEIVER_LEFT_IN_KICK":"🚪 Recebedor saiu durante o %s","RECEIVER_LEFT_IN_HIKE":"🚪 Recebedor saiu durante a descida","QUARTERBACK_LEFT_IN_HIKE":"🚪 QB saiu durante a descida • Repete a descida","INCOMPLETE_PASS":"🚧 Passe incompleto • Bloqueado por %s","INCOMPLETE_PASS_CONVERSION_FAILED":"• Conversão falhou","CONVERSION_FAILED":"😲 CONVERSÃO DO %s FALHOU!!!","NOT_ADMIN":"⚠️ Você não é admin!","GAME_NOT_IN_PROGRESS":"⚠️ Não há nenhum jogo em progresso!","CANNOT_USE_COMMAND_IN_PLAY":"⚠️ Este comando não pode ser utilizado no meio de uma jogada!","INVALID_TEAM":"⚠️ Time inválido! Use: %ssetteam <red/blue> <time>","TEAM_NOT_FOUND":"⚠️ Time não encontrando! Use %steamlist para ver a lista de times","NOT_ON_TEAM":"⚠️ Você não está em nenhum time!","TEAM_WITHOUT_BALL":"⚠️ Seu time não está com a posse da bola!","CANNOT_FG_NOW":"⚠️ Você não pode pedir FG agora!","CANNOT_FG_AT_THIS_DISTANCE":"⚠️ Você não pode pedir FG a essa distância da end zone!","FAR_AWAY_FROM_BALL":"⚠️ Você está longe demais da bola!","CARRIED_BALL_FG":"❌ Condução ilegal da bola durante o Field Goal • Perde o FG","TOUCHED_BALL_FG_SAME_TEAM":"❌ Dois toques na bola pelo time que chutou • Ilegal • FG falhou","TOUCHED_BALL_FG_DEFENSE":"🙌 Toque ilegal da equipe adversária durante o Field Goal • FG automático para o %s • +%s pontos • %s","TOUCHED_BALL_FG_OFFENSE":"🙌 Toque ilegal de %s durante o Field Goal • FG falhou","TACKLED_QB_FG":"💪 Chutador %s derrubado por %s faltando %s • FG falhou","DETECTED_FAILED_FG":"🤖 Detectado Field Goal falho • Bola para o outro time","FAILED_FG_BALL_STOPPED":"🥅 Errou Field Goal • Bola parou antes de chegar no gol","TOOK_TOO_LONG_FG":"❌ Demorou demais pra chutar, perde o field goal!","SET_FG":"🔱 %s solicitou FG!","FG":"🥅 Field Goal para o %s • %s para chutar o FG","CHANGED_TEAM_COLORS":"🥋 %s alterou o uniforme do %s para %s","TEAM_LIST":"🥋 Uniformes (%s): %s.","GAME_RECORDED":"🎥 Esta partida foi gravada (ID: %s) e está disponível em nosso Discord!","QUARTERBACK_BLITZ":"❌ Ultrapassagem ilegal do QB da linha de scrimmage aos %s","QUARTERBACK_BLITZ_CONVERSION":"❌ Ultrapassagem ilegal do QB da linha de scrimmage aos %s • Perde a conversão","QUARTERBACK_RUN":"🏃 Corrida do QB por %s","QUARTERBACK_CARRIED_BALL_HIKE":"❌ Condução ilegal da bola pelo QB • Perde a descida","QUARTERBACK_CARRIED_BALL_CONVERSION":"❌ Condução ilegal da bola pelo QB • Perde a conversão","RUN":"🏃 Corrida de %s","ILLEGAL_RUN_HIKE":"❌ Corrida ilegal de %s • Perde a descida","ILLEGAL_RUN_CONVERSION":"❌ Corrida ilegal de %s • Perde a conversão","AUTO_TOUCHDOWN_BLITZ":"Ultrapassagem ilegal da linha de scrimmage por %s aos %s","REDZONE_BLITZ":"❌ Ultrapassagem ilegal da linha de scrimmage por %s aos %s na Red Zone • %s/%s para Touchdown Automático • %s jardas de penalidade","BLITZ":"❌ Ultrapassagem ilegal da linha de scrimmage por %s aos %s • %s jardas de penalidade","SACK_ATTEMPT":"🏃 Tentativa de sack por %s contra o QB %s","INTERCEPTION_FAILED":"❌ Passe incompleto • Tentativa de intercepção por %s falhou • Passe bloqueado por %s","GAME_PAUSED":"⏸️ Jogo pausado • Tempo para dar hike foi pausado","GAME_RESUMED":"⏸️ Jogo despausado por %s • Tempo para dar hike retomado","HIKE_BLOCKED_OFFENSIVE_BLITZ":"⚠️ Foram encontrados jogadores do %s (%s) além da linha de scrimmage, hike bloqueado!","HIKE_BLOCKED_OFFENSIVE_BLITZ_PLAYER_WARNING":"🚨 Você não pode ficar atrás da linha da bola antes do hike!","HIKED":"🌳 Bola em jogo! 🌳","HIKE_DISABLED":"• Tempo para dar hike está desativado","HIKE_TIME":"• O %s tem %s para dar hike","CONVERSION_ATTEMPT":"*️⃣ Tentativa de conversão de 2 pontos do %s","WON_20_YARDS":"• Conseguiram conquistar as 20 jardas","FIRST_DOWN":"• Primeira descida do %s","TURNOVER_ON_DOWNS":"• Fim das descidas do %s","NTH_DOWN":"• %sª descida","TOOK_TO_LONG_TO_HIKE":"❌ Demorou demais pra chutar, perde 1 descida!","TOOK_TO_LONG_TO_KICK_CONVERSION":"❌ Demorou demais pra chutar, perde a conversão!","BALL_RECEIVED":"🏈 Bola recebida por %s","ILLEGAL_TOUCH_OF_AT":"Toque ilegal de %s aos %s","ILLEGAL_TOUCH_REDZONE":"❌ Toque ilegal de %s na Red Zone aos %s • %s/%s para Touchdown Automático • %s jardas de penalidade","ILLEGAL_TOUCH_OF_AT_PENALTY":"❌ Toque ilegal de %s aos %s • %s jardas de penalidade","ILLEGAL_TOUCH_OF":"❌ Toque ilegal de %s","INTERCEPTION_ATTEMPT_DETECTED":"🤖 Foi detectado uma tentativa de interceptação por %s • Contato com a bola foi desativado","COMMAND_CHT_DISABLE_ALL":"⚙️ %s desativou o tempo para dar hike para todas as descidas","COMMAND_CHT_DISABLE_THIS":"⚙️ %s desativou o tempo para dar hike para esta descida","COMMAND_CHT_ENABLE":"⚙️ %s ativou o tempo para dar hike para as próximas descidas","BALL_PASSED_SCRIMMAGE_LINE":"❌ Bola passou ilegalmente da linha de scrimmage • Perde a descida","BALL_PASSED_SCRIMMAGE_LINE_CONVERSION":"❌ Bola passou ilegalmente da linha de scrimmage • Perde a conversão","BALL_OUTSIDE_FIELD":"❌ Bola fora de campo • Perde a descida","BALL_OUTSIDE_FIELD_CONVERSION":"❌ Bola fora de campo • Perde a conversão","INTERCEPTION_FAILED_SACK":"❌ Interceptação falhou"}')},244:e=>{e.exports=JSON.parse('{"name":"BFL x4","canBeStored":false,"width":1090,"height":380,"bg":{"type":"grass","width":930,"height":266},"vertexes":[{"x":0,"y":334,"bCoef":0.1,"cMask":["red","blue"]},{"x":0,"y":-330,"bCoef":0.1,"cMask":["red","blue"]},{"x":-775,"y":-266,"cMask":[]},{"x":-775,"y":266,"cMask":[]},{"x":-620,"y":-266,"cMask":[]},{"x":-620,"y":266,"cMask":[]},{"x":-465,"y":-266,"cMask":[]},{"x":-465,"y":266,"cMask":[]},{"x":-310,"y":-266,"cMask":[]},{"x":-310,"y":266,"cMask":[]},{"x":-155,"y":-266,"cMask":[]},{"x":-155,"y":266,"cMask":[]},{"x":155,"y":-266,"cMask":[]},{"x":155,"y":266,"cMask":[]},{"x":310,"y":-266,"cMask":[]},{"x":310,"y":266,"cMask":[]},{"x":465,"y":-266,"cMask":[]},{"x":465,"y":266,"cMask":[]},{"x":620,"y":-266,"cMask":[]},{"x":620,"y":266,"cMask":[]},{"x":775,"y":-266,"cMask":[]},{"x":775,"y":266,"cMask":[]},{"x":-1005,"y":360},{"x":-1005,"y":-360},{"x":1005,"y":360},{"x":1005,"y":-360},{"x":-775,"y":-375,"cMask":[]},{"x":-775,"y":375,"cMask":[]},{"x":-713,"y":-60,"cMask":[]},{"x":-713,"y":-80,"cMask":[]},{"x":-744,"y":-60,"cMask":[]},{"x":-744,"y":-80,"cMask":[]},{"x":-744,"y":80,"cMask":[]},{"x":-744,"y":60,"cMask":[]},{"x":-713,"y":80,"cMask":[]},{"x":-713,"y":60,"cMask":[]},{"x":713,"y":80,"cMask":[]},{"x":713,"y":60,"cMask":[]},{"x":62,"y":80,"cMask":[]},{"x":62,"y":60,"cMask":[]},{"x":31,"y":80,"cMask":[]},{"x":31,"y":60,"cMask":[]},{"x":-93,"y":80,"cMask":[]},{"x":-93,"y":60,"cMask":[]},{"x":-124,"y":80,"cMask":[]},{"x":-124,"y":60,"cMask":[]},{"x":-248,"y":80,"cMask":[]},{"x":-248,"y":60,"cMask":[]},{"x":-279,"y":80,"cMask":[]},{"x":-279,"y":60,"cMask":[]},{"x":-403,"y":80,"cMask":[]},{"x":-403,"y":60,"cMask":[]},{"x":-434,"y":80,"cMask":[]},{"x":-434,"y":60,"cMask":[]},{"x":-558,"y":80,"cMask":[]},{"x":-558,"y":60,"cMask":[]},{"x":-589,"y":80,"cMask":[]},{"x":-589,"y":60,"cMask":[]},{"x":186,"y":-60,"cMask":[]},{"x":186,"y":-80,"cMask":[]},{"x":62,"y":-60,"cMask":[]},{"x":62,"y":-80,"cMask":[]},{"x":31,"y":-60,"cMask":[]},{"x":31,"y":-80,"cMask":[]},{"x":-93,"y":-60,"cMask":[]},{"x":-93,"y":-80,"cMask":[]},{"x":-124,"y":-60,"cMask":[]},{"x":-124,"y":-80,"cMask":[]},{"x":-248,"y":-60,"cMask":[]},{"x":-248,"y":-80,"cMask":[]},{"x":-279,"y":-60,"cMask":[]},{"x":-279,"y":-80,"cMask":[]},{"x":-403,"y":-60,"cMask":[]},{"x":-403,"y":-80,"cMask":[]},{"x":-434,"y":-60,"cMask":[]},{"x":-434,"y":-80,"cMask":[]},{"x":-558,"y":-60,"cMask":[]},{"x":-558,"y":-80,"cMask":[]},{"x":-589,"y":-60,"cMask":[]},{"x":-589,"y":-80,"cMask":[]},{"x":186,"y":80,"cMask":[]},{"x":186,"y":60,"cMask":[]},{"x":651,"y":-60,"cMask":[]},{"x":651,"y":-80,"cMask":[]},{"x":651,"y":80,"cMask":[]},{"x":651,"y":60,"cMask":[]},{"x":682,"y":80,"cMask":[]},{"x":682,"y":60,"cMask":[]},{"x":682,"y":-60,"cMask":[]},{"x":682,"y":-80,"cMask":[]},{"x":527,"y":-60,"cMask":[]},{"x":527,"y":-80,"cMask":[]},{"x":527,"y":80,"cMask":[]},{"x":527,"y":60,"cMask":[]},{"x":496,"y":80,"cMask":[]},{"x":496,"y":60,"cMask":[]},{"x":496,"y":-60,"cMask":[]},{"x":496,"y":-80,"cMask":[]},{"x":372,"y":-60,"cMask":[]},{"x":372,"y":-80,"cMask":[]},{"x":403,"y":80,"cMask":[]},{"x":403,"y":60,"cMask":[]},{"x":372,"y":80,"cMask":[]},{"x":372,"y":60,"cMask":[]},{"x":341,"y":-60,"cMask":[]},{"x":341,"y":-80,"cMask":[]},{"x":217,"y":-60,"cMask":[]},{"x":217,"y":-80,"cMask":[]},{"x":217,"y":80,"cMask":[]},{"x":217,"y":60,"cMask":[]},{"x":1005,"y":25,"cMask":[]},{"x":1005,"y":-25,"cMask":[]},{"x":-682,"y":-60,"cMask":[]},{"x":-682,"y":-80,"cMask":[]},{"x":-682,"y":80,"cMask":[]},{"x":-682,"y":60,"cMask":[]},{"x":-651,"y":80,"cMask":[]},{"x":-651,"y":60,"cMask":[]},{"x":-651,"y":-60,"cMask":[]},{"x":-651,"y":-80,"cMask":[]},{"x":-527,"y":80,"cMask":[]},{"x":-527,"y":60,"cMask":[]},{"x":-527,"y":-60,"cMask":[]},{"x":-527,"y":-80,"cMask":[]},{"x":-496,"y":-60,"cMask":[]},{"x":-496,"y":-80,"cMask":[]},{"x":-496,"y":80,"cMask":[]},{"x":-496,"y":60,"cMask":[]},{"x":-372,"y":-60,"cMask":[]},{"x":-372,"y":-80,"cMask":[]},{"x":-372,"y":80,"cMask":[]},{"x":-372,"y":60,"cMask":[]},{"x":-341,"y":80,"cMask":[]},{"x":-341,"y":60,"cMask":[]},{"x":-341,"y":-60,"cMask":[]},{"x":-341,"y":-80,"cMask":[]},{"x":-217,"y":80,"cMask":[]},{"x":-217,"y":60,"cMask":[]},{"x":-186,"y":80,"cMask":[]},{"x":-186,"y":60,"cMask":[]},{"x":-217,"y":-60,"cMask":[]},{"x":-217,"y":-80,"cMask":[]},{"x":-186,"y":-60,"cMask":[]},{"x":-186,"y":-80,"cMask":[]},{"x":-62,"y":80,"cMask":[]},{"x":-62,"y":60,"cMask":[]},{"x":-31,"y":80,"cMask":[]},{"x":-31,"y":60,"cMask":[]},{"x":-62,"y":-60,"cMask":[]},{"x":-62,"y":-80,"cMask":[]},{"x":-31,"y":-60,"cMask":[]},{"x":-31,"y":-80,"cMask":[]},{"x":93,"y":-60,"cMask":[]},{"x":93,"y":-80,"cMask":[]},{"x":93,"y":80,"cMask":[]},{"x":93,"y":60,"cMask":[]},{"x":124,"y":80,"cMask":[]},{"x":124,"y":60,"cMask":[]},{"x":124,"y":-60,"cMask":[]},{"x":124,"y":-80,"cMask":[]},{"x":248,"y":80,"cMask":[]},{"x":248,"y":60,"cMask":[]},{"x":248,"y":-60,"cMask":[]},{"x":248,"y":-80,"cMask":[]},{"x":279,"y":-60,"cMask":[]},{"x":279,"y":-80,"cMask":[]},{"x":279,"y":80,"cMask":[]},{"x":279,"y":60,"cMask":[]},{"x":341,"y":80,"cMask":[]},{"x":341,"y":60,"cMask":[]},{"x":403,"y":-60,"cMask":[]},{"x":403,"y":-80,"cMask":[]},{"x":434,"y":-60,"cMask":[]},{"x":434,"y":-80,"cMask":[]},{"x":434,"y":80,"cMask":[]},{"x":434,"y":60,"cMask":[]},{"x":558,"y":80,"cMask":[]},{"x":558,"y":60,"cMask":[]},{"x":558,"y":-60,"cMask":[]},{"x":558,"y":-80,"cMask":[]},{"x":589,"y":-60,"cMask":[]},{"x":589,"y":-80,"cMask":[]},{"x":589,"y":80,"cMask":[]},{"x":589,"y":60,"cMask":[]},{"x":713,"y":-60,"cMask":[]},{"x":713,"y":-80,"cMask":[]},{"x":744,"y":-60,"cMask":[]},{"x":744,"y":-80,"cMask":[]},{"x":744,"y":80,"cMask":[]},{"x":744,"y":60,"cMask":[]},{"x":-697.5,"y":266,"cMask":[]},{"x":-697.5,"y":246,"cMask":[]},{"x":-542.5,"y":266,"cMask":[]},{"x":-542.5,"y":246,"cMask":[]},{"x":-387.5,"y":266,"cMask":[]},{"x":-387.5,"y":246,"cMask":[]},{"x":-232.5,"y":266,"cMask":[]},{"x":-232.5,"y":246,"cMask":[]},{"x":-77.5,"y":266,"cMask":[]},{"x":-77.5,"y":246,"cMask":[]},{"x":77.5,"y":266,"cMask":[]},{"x":77.5,"y":246,"cMask":[]},{"x":232.5,"y":266,"cMask":[]},{"x":232.5,"y":246,"cMask":[]},{"x":387.5,"y":266,"cMask":[]},{"x":387.5,"y":246,"cMask":[]},{"x":387.5,"y":-246,"cMask":[]},{"x":387.5,"y":-266,"cMask":[]},{"x":232.5,"y":-246,"cMask":[]},{"x":232.5,"y":-266,"cMask":[]},{"x":77.5,"y":-246,"cMask":[]},{"x":77.5,"y":-266,"cMask":[]},{"x":542.5,"y":-246,"cMask":[]},{"x":542.5,"y":-266,"cMask":[]},{"x":697.5,"y":-246,"cMask":[]},{"x":697.5,"y":-266,"cMask":[]},{"x":-77.5,"y":-246,"cMask":[]},{"x":-77.5,"y":-266,"cMask":[]},{"x":-232.5,"y":-246,"cMask":[]},{"x":-232.5,"y":-266,"cMask":[]},{"x":-387.5,"y":-246,"cMask":[]},{"x":-387.5,"y":-266,"cMask":[]},{"x":-542.5,"y":-246,"cMask":[]},{"x":-542.5,"y":-266,"cMask":[]},{"x":-697.5,"y":-246,"cMask":[]},{"x":-697.5,"y":-266,"cMask":[]},{"x":930,"y":-60,"cMask":[]},{"x":930,"y":60,"cMask":[]},{"x":930,"y":-60,"cMask":[]},{"x":980,"y":-130,"cMask":[]},{"x":990,"y":-10,"cMask":[]},{"x":0,"y":-266,"cMask":[]},{"x":0,"y":266,"cMask":[]},{"x":775,"y":-375,"cMask":[]},{"x":775,"y":375,"cMask":[]},{"x":542.5,"y":266,"cMask":[]},{"x":542.5,"y":246,"cMask":[]},{"x":697.5,"y":266,"cMask":[]},{"x":697.5,"y":246,"cMask":[]},{"x":-930,"y":-60,"cMask":[]},{"x":-980,"y":-130,"cMask":[]},{"x":-930,"y":60,"cMask":[]},{"x":-990,"y":-10,"cMask":[]},{"x":930,"y":-266,"cMask":[]},{"x":-930,"y":-266,"cMask":[]},{"x":-930,"y":266,"cMask":[]},{"x":930,"y":266,"cMask":[]}],"segments":[{"v0":0,"v1":1,"vis":false,"bCoef":0.1,"cMask":["red","blue"],"cGroup":[]},{"v0":2,"v1":3,"color":"ffea00","cMask":[]},{"v0":4,"v1":5,"color":"FFFFFF","cMask":[]},{"v0":6,"v1":7,"color":"FF0000","cMask":[]},{"v0":8,"v1":9,"color":"FFFFFF","cMask":[]},{"v0":10,"v1":11,"color":"FFFFFF","cMask":[]},{"v0":12,"v1":13,"color":"FFFFFF","cMask":[]},{"v0":14,"v1":15,"color":"FFFFFF","cMask":[]},{"v0":16,"v1":17,"color":"FF0000","cMask":[]},{"v0":18,"v1":19,"color":"FFFFFF","cMask":[]},{"v0":20,"v1":21,"color":"ffea00","cMask":[]},{"v0":22,"v1":23,"vis":false,"color":"FF","cMask":["ball"]},{"v0":24,"v1":25,"vis":false,"color":"FF0000","cMask":["ball"]},{"v0":26,"v1":27,"vis":false,"color":"ffea00","bCoef":0.1,"cMask":["red","blue"],"cGroup":[]},{"v0":28,"v1":29,"color":"FFFFFF","cMask":[]},{"v0":30,"v1":31,"color":"FFFFFF","cMask":[]},{"v0":32,"v1":33,"color":"FFFFFF","cMask":[]},{"v0":34,"v1":35,"color":"FFFFFF","cMask":[]},{"v0":36,"v1":37,"color":"FFFFFF","cMask":[]},{"v0":38,"v1":39,"color":"FFFFFF","cMask":[]},{"v0":40,"v1":41,"color":"FFFFFF","cMask":[]},{"v0":42,"v1":43,"color":"FFFFFF","cMask":[]},{"v0":44,"v1":45,"color":"FFFFFF","cMask":[]},{"v0":46,"v1":47,"color":"FFFFFF","cMask":[]},{"v0":48,"v1":49,"color":"FFFFFF","cMask":[]},{"v0":50,"v1":51,"color":"FFFFFF","cMask":[]},{"v0":52,"v1":53,"color":"FFFFFF","cMask":[]},{"v0":54,"v1":55,"color":"FFFFFF","cMask":[]},{"v0":56,"v1":57,"color":"FFFFFF","cMask":[]},{"v0":58,"v1":59,"color":"FFFFFF","cMask":[]},{"v0":60,"v1":61,"color":"FFFFFF","cMask":[]},{"v0":62,"v1":63,"color":"FFFFFF","cMask":[]},{"v0":64,"v1":65,"color":"FFFFFF","cMask":[]},{"v0":66,"v1":67,"color":"FFFFFF","cMask":[]},{"v0":68,"v1":69,"color":"FFFFFF","cMask":[]},{"v0":70,"v1":71,"color":"FFFFFF","cMask":[]},{"v0":72,"v1":73,"color":"FFFFFF","cMask":[]},{"v0":74,"v1":75,"color":"FFFFFF","cMask":[]},{"v0":76,"v1":77,"color":"FFFFFF","cMask":[]},{"v0":78,"v1":79,"color":"FFFFFF","cMask":[]},{"v0":80,"v1":81,"color":"FFFFFF","cMask":[]},{"v0":82,"v1":83,"color":"FFFFFF","cMask":[]},{"v0":84,"v1":85,"color":"FFFFFF","cMask":[]},{"v0":86,"v1":87,"color":"FFFFFF","cMask":[]},{"v0":88,"v1":89,"color":"FFFFFF","cMask":[]},{"v0":90,"v1":91,"color":"FFFFFF","cMask":[]},{"v0":92,"v1":93,"color":"FFFFFF","cMask":[]},{"v0":94,"v1":95,"color":"FFFFFF","cMask":[]},{"v0":96,"v1":97,"color":"FFFFFF","cMask":[]},{"v0":98,"v1":99,"color":"FFFFFF","cMask":[]},{"v0":100,"v1":101,"color":"FFFFFF","cMask":[]},{"v0":102,"v1":103,"color":"FFFFFF","cMask":[]},{"v0":104,"v1":105,"color":"FFFFFF","cMask":[]},{"v0":106,"v1":107,"color":"FFFFFF","cMask":[]},{"v0":108,"v1":109,"color":"FFFFFF","cMask":[]},{"v0":112,"v1":113,"color":"FFFFFF","cMask":[]},{"v0":114,"v1":115,"color":"FFFFFF","cMask":[]},{"v0":116,"v1":117,"color":"FFFFFF","cMask":[]},{"v0":118,"v1":119,"color":"FFFFFF","cMask":[]},{"v0":120,"v1":121,"color":"FFFFFF","cMask":[]},{"v0":122,"v1":123,"color":"FFFFFF","cMask":[]},{"v0":124,"v1":125,"color":"FFFFFF","cMask":[]},{"v0":126,"v1":127,"color":"FFFFFF","cMask":[]},{"v0":128,"v1":129,"color":"FFFFFF","cMask":[]},{"v0":130,"v1":131,"color":"FFFFFF","cMask":[]},{"v0":132,"v1":133,"color":"FFFFFF","cMask":[]},{"v0":134,"v1":135,"color":"FFFFFF","cMask":[]},{"v0":136,"v1":137,"color":"FFFFFF","cMask":[]},{"v0":138,"v1":139,"color":"FFFFFF","cMask":[]},{"v0":140,"v1":141,"color":"FFFFFF","cMask":[]},{"v0":142,"v1":143,"color":"FFFFFF","cMask":[]},{"v0":144,"v1":145,"color":"FFFFFF","cMask":[]},{"v0":146,"v1":147,"color":"FFFFFF","cMask":[]},{"v0":148,"v1":149,"color":"FFFFFF","cMask":[]},{"v0":150,"v1":151,"color":"FFFFFF","cMask":[]},{"v0":152,"v1":153,"color":"FFFFFF","cMask":[]},{"v0":154,"v1":155,"color":"FFFFFF","cMask":[]},{"v0":156,"v1":157,"color":"FFFFFF","cMask":[]},{"v0":158,"v1":159,"color":"FFFFFF","cMask":[]},{"v0":160,"v1":161,"color":"FFFFFF","cMask":[]},{"v0":162,"v1":163,"color":"FFFFFF","cMask":[]},{"v0":164,"v1":165,"color":"FFFFFF","cMask":[]},{"v0":166,"v1":167,"color":"FFFFFF","cMask":[]},{"v0":168,"v1":169,"color":"FFFFFF","cMask":[]},{"v0":170,"v1":171,"color":"FFFFFF","cMask":[]},{"v0":172,"v1":173,"color":"FFFFFF","cMask":[]},{"v0":174,"v1":175,"color":"FFFFFF","cMask":[]},{"v0":176,"v1":177,"color":"FFFFFF","cMask":[]},{"v0":178,"v1":179,"color":"FFFFFF","cMask":[]},{"v0":180,"v1":181,"color":"FFFFFF","cMask":[]},{"v0":182,"v1":183,"color":"FFFFFF","cMask":[]},{"v0":184,"v1":185,"color":"FFFFFF","cMask":[]},{"v0":186,"v1":187,"color":"FFFFFF","cMask":[]},{"v0":188,"v1":189,"color":"FFFFFF","cMask":[]},{"v0":190,"v1":191,"color":"FFFFFF","cMask":[]},{"v0":192,"v1":193,"color":"FFFFFF","cMask":[]},{"v0":194,"v1":195,"color":"FFFFFF","cMask":[]},{"v0":196,"v1":197,"color":"FFFFFF","cMask":[]},{"v0":198,"v1":199,"color":"FFFFFF","cMask":[]},{"v0":200,"v1":201,"color":"FFFFFF","cMask":[]},{"v0":202,"v1":203,"color":"C7E6BD","cMask":[]},{"v0":204,"v1":205,"color":"FFFFFF","cMask":[]},{"v0":206,"v1":207,"color":"FFFFFF","cMask":[]},{"v0":208,"v1":209,"color":"FFFFFF","cMask":[]},{"v0":210,"v1":211,"color":"FFFFFF","cMask":[]},{"v0":212,"v1":213,"color":"FFFFFF","cMask":[]},{"v0":214,"v1":215,"color":"C7E6BD","cMask":[]},{"v0":216,"v1":217,"color":"FFFFFF","cMask":[]},{"v0":218,"v1":219,"color":"FFFFFF","cMask":[]},{"v0":220,"v1":221,"color":"FFFFFF","cMask":[]},{"v0":222,"v1":223,"color":"FFFFFF","cMask":[]},{"v0":224,"v1":225,"color":"FFFFFF","cMask":[]},{"v0":231,"v1":232,"color":"4FF","cMask":[]},{"v0":233,"v1":234,"vis":false,"color":"ffea00","bCoef":0.1,"cMask":["red","blue"],"cGroup":[]},{"v0":235,"v1":236,"color":"C7E6BD","cMask":[]},{"v0":237,"v1":238,"color":"FFFFFF","cMask":[]},{"v0":228,"v1":229,"color":"ffea00","cMask":[]},{"v0":227,"v1":230,"color":"ffea00","cMask":[]},{"v0":239,"v1":240,"color":"ffea00","cMask":[]},{"v0":241,"v1":242,"color":"ffea00","cMask":[]},{"v0":243,"v1":244,"color":"FFFFFF","cMask":[]},{"v0":245,"v1":246,"color":"FFFFFF","cMask":[]},{"v0":244,"v1":245,"color":"FFFFFF","cMask":[]},{"v0":246,"v1":243,"color":"FFFFFF","cMask":[]},{"v0":228,"v1":227,"color":"ffea00","cMask":[]},{"v0":239,"v1":241,"color":"ffea00","cMask":[]}],"planes":[{"normal":[0,1],"dist":-350,"cMask":["ball"]},{"normal":[0,-1],"dist":-350,"cMask":["ball"]},{"normal":[1,0],"dist":-1065,"cMask":["ball"]},{"normal":[-1,0],"dist":-1065,"cMask":["ball"]},{"normal":[0,1],"dist":-375,"bCoef":0.9},{"normal":[0,-1],"dist":-375,"bCoef":0.9},{"normal":[1,0],"dist":-1090,"bCoef":0.9},{"normal":[-1,0],"dist":-1090,"bCoef":0.9},{"normal":[-1,0],"dist":775,"cMask":["c0"]},{"normal":[1,0],"dist":775,"cMask":["c1"]},{"normal":[-1,0],"dist":0,"cMask":["c2"]},{"normal":[1,0],"dist":0,"cMask":["c3"]}],"goals":[{"p0":[-1065,0],"p1":[-1005,0],"team":"blue"},{"p0":[1006.9833374023,1.6000061035156],"p1":[1063.9833374023,1.6000061035156],"team":"red"}],"discs":[{"radius":4,"invMass":0,"pos":[930,-60],"color":"FFFF00"},{"radius":4,"invMass":0,"pos":[-930,-60],"color":"FFFF00"},{"radius":4,"invMass":0,"pos":[-930,60],"color":"FFFF00"},{"radius":4,"invMass":0,"pos":[930,60],"color":"FFFF00"},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":0,"invMass":1,"pos":[0,0],"color":"transparent","cGroup":[]},{"radius":1,"invMass":1,"pos":[9999,9999],"color":"FF0000","cGroup":[]},{"radius":1,"invMass":1,"pos":[9999,9999],"color":"FF0000","cGroup":[]},{"radius":1,"invMass":1,"pos":[9999,9999],"color":"FF0000","cGroup":[]},{"radius":1,"invMass":1,"pos":[9999,9999],"color":"FF0000","cGroup":[]}],"playerPhysics":{"bCoef":0.5,"invMass":1e+26,"kickStrength":7},"ballPhysics":{"radius":7.125,"bCoef":0.5,"cMask":["red","blue","wall"],"color":"631515","cGroup":["ball","kick","score"]},"cameraFollow":"player","spawnDistance":980,"traits":{},"joints":[{"d0":5,"d1":6,"color":"ffa200","length":[0,99999]},{"d0":7,"d1":8,"color":"acde97","length":[0,99999]},{"d0":9,"d1":10,"color":"FF0000","length":[0,99999]},{"d0":11,"d1":12,"color":"FF0000","length":[0,99999]},{"d0":13,"d1":14,"color":"FF0000","length":[0,99999]},{"d0":15,"d1":16,"color":"FF0000","length":[0,99999]},{"d0":17,"d1":18,"color":"FF0000","length":[0,99999]},{"d0":19,"d1":20,"color":"FF0000","length":[0,99999]},{"d0":21,"d1":22,"color":"FF0000","length":[0,99999]},{"d0":23,"d1":24,"color":"FF0000","length":[0,99999]},{"d0":25,"d1":26,"color":"FF0000","length":[0,99999]},{"d0":27,"d1":28,"color":"FF0000","length":[0,99999]},{"d0":29,"d1":30,"color":"FF0000","length":[0,99999]},{"d0":31,"d1":32,"color":"FF0000","length":[0,99999]}],"redSpawnPoints":[],"blueSpawnPoints":[]}')},313:e=>{e.exports=JSON.parse('[{"name":"Buccaneers","category":"","angle":60,"textColor":14345709,"colors":[2499364,13895945,13895945]},{"name":"Steelers","category":"","angle":60,"textColor":16252682,"colors":[0,1644056,1644056]},{"name":"Eagles","category":"","angle":60,"textColor":15132390,"colors":[1323048,2183748,2183748]},{"name":"Broncos","category":"","angle":60,"textColor":16248302,"colors":[8514,15550995,15550995]},{"name":"Patriots","category":"","angle":60,"textColor":14357543,"colors":[9211020,664386,664386]},{"name":"Dolphins","category":"","angle":60,"textColor":16777215,"colors":[16777215,44994,44994]},{"name":"Bears","category":"","angle":60,"textColor":15885602,"colors":[3627,5183,5183]},{"name":"Browns","category":"","angle":60,"textColor":16469780,"colors":[16469780,1314055,1314055]},{"name":"Rams","category":"","angle":60,"textColor":16513795,"colors":[212605,281238,281238]},{"name":"Falcons","category":"","angle":60,"textColor":16777215,"colors":[1037,10950960,10950960]},{"name":"Panthers","category":"","angle":60,"textColor":34250,"colors":[9010329,657930,657930]},{"name":"Saints","category":"","angle":60,"textColor":10586968,"colors":[10586968,657670,657670]},{"name":"Chiefs","category":"","angle":60,"textColor":16775161,"colors":[8722464,13706546,13706546]},{"name":"Bills","category":"","angle":60,"textColor":16250871,"colors":[15130592,13197,13197]},{"name":"Jets","category":"","angle":60,"textColor":16777215,"colors":[14376,20280,18997]},{"name":"Texans","category":"","angle":60,"textColor":15404044,"colors":[3627,5183,5183]},{"name":"Jaguars","category":"","angle":60,"textColor":16777215,"colors":[200980,1271415,1271415]},{"name":"Colts","category":"","angle":60,"textColor":15737,"colors":[14737632,15461355,15461355]},{"name":"Chargers","category":"","angle":60,"textColor":16626965,"colors":[15589860,2058692,2058692]},{"name":"Bengals","category":"","angle":60,"textColor":524801,"colors":[14894866,16118001,16248302]},{"name":"Raiders","category":"","angle":60,"textColor":11120048,"colors":[11120048,986895,986895]},{"name":"Cowboys","category":"","angle":60,"textColor":16777215,"colors":[10263708,1452126,1452126]},{"name":"49ers","category":"","angle":60,"textColor":16513014,"colors":[9804079,13369344,13369344]},{"name":"Ravens","category":"","angle":60,"textColor":16777215,"colors":[1644056,5119603,5119603]},{"name":"Vikings","category":"","angle":60,"textColor":15921906,"colors":[4335214,5189252,5189252]},{"name":"Packers","category":"","angle":60,"textColor":15460842,"colors":[16563732,2376252,2376252]},{"name":"Titans","category":"","angle":60,"textColor":10587,"colors":[10587,4232657,4232657]},{"name":"Cardinals","category":"","angle":60,"textColor":16118514,"colors":[16118514,13181994,13181994]},{"name":"Giants","category":"","angle":60,"textColor":15734808,"colors":[1650284,16448250,16448250]},{"name":"Seahawks","category":"","angle":60,"textColor":4521728,"colors":[5934,8256,8256]},{"name":"Lions","category":"","angle":60,"textColor":11581372,"colors":[10199462,290484,290484]},{"name":"Washington","category":"","angle":60,"textColor":16103950,"colors":[16761359,8131605,8131605]}]')}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,a),i.exports}a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(142)})();